{"version":3,"sources":["redux\\actionCreators\\fetchToDos.js","redux\\actionCreators\\selectList.js","hocs\\requireAuth.js","redux\\actionCreators\\editListName.js","redux\\actionCreators\\deleteList.js","components\\basics\\Sort.js","hocs\\contentEditable.js","components\\basics\\DivThanInput.js","redux\\actionCreators\\deleteItem.js","redux\\actionCreators\\changeItemPriorityColor.js","components\\basics\\PrioritySelector.js","redux\\actionCreators\\checkItem.js","components\\basics\\RatioButton.js","components\\SingleToDo.js","assets\\helpers.js","redux\\actionCreators\\editItemName.js","redux\\actionCreators\\editItemNotes.js","components\\SingleToDoDetailsEdit.js","components\\SingleToDoDetails.js","redux\\actionCreators\\addItem.js","components\\AddItem.js","components\\ToDos.js","redux\\actionCreators\\addList.js","redux\\actionCreators\\changeListColor.js","components\\basics\\ColorSelector.js","components\\AddList.js","components\\ListsManager.js","components\\NoToDos.js","components\\ToDosPage.js"],"names":["fetchToDos","userId","dispatch","todosRef","on","type","lists","snapshot","val","selectList","listId","requireAuth","ComposedComponent","Authentication","props","authenticated","Component","contextTypes","router","PropTypes","object","mapStateToProps","state","user","editListName","newName","deleteList","nextListId","Sort","sortBy","handleSortByChange","e","target","value","React","PureComponent","StyledSortBy","colors","lightGrey","contentEditable","WrappedComponent","editing","toggleEdit","stopPropagation","cancel","edit","setState","domElm","focus","save","getInputValue","textContent","handleKeyDown","key","dontSaveOnEnter","editOnClick","undefined","domNode","DivThanInput","EditableDiv","StyledEditableDiv","divProps","Object","assign","className","inputPlaceholder","deleteItem","itemToDelete","changeItemPriorityColor","taskId","newPriority","PrioritySelector","showChangePriority","priorityColor","low","priorityColors","medium","high","priority","handleChangePriority","handleChangeItemPriorityColor","keys","map","i","StyledColorList","light","StyledLabelColor","mainColor","checkItem","itemToCheck","RatioButton","checked","handleCheckItem","StyledRatio","secondary","mapDispatchToProps","SingleToDo","getClasses","classes","task","showItem","handleDeleteItem","setTimeout","completeListLayout","bind","showToDoOptionsFunc","id","itemListDetails","showToDoOptions","StyledLi","StyledTask","randomId","Math","random","toString","slice","dateTransformation","dateTime","date","Date","toDateString","currTime","split","toISOString","slugify","text","toLowerCase","replace","editItemName","editItemNotes","newNotes","SingleToDoDetailsEdit","showEditItems","handleEditItemName","inputValue","getTextAreaValue","handleEditItemNotes","textAreaValue","notes","StyledEditableDivTextArea","SingleToDoDetails","closeDetails","showDetailsEditItems","showDetailsEditItemsFunc","start_date","StyledDetailsContainer","StyledEditIcon","EditIcon","StyledH3","StyledFooter","addItem","itemToAdd","updates","newItemObject","databaseRef","child","push","AddItem","handleSubmit","preventDefault","length","handleAddItem","handleChange","StyledInput","newItem","ToDos","detailsTask","handleEditList","handleEditListName","currentList","alert","handleDeleteList","showDetailsFunc","toggle","showEditListNameFunc","showEditListName","numberOfCheckedItems","checkedItems","items","filter","item","name","filterCheckedFunc","filterChecked","color","showDetails","Array","completeListLayoutNum","StyledTodoHolder","StyledFilterChecked","StyledToDo","toDoWidth","addList","newList","newColor","newListObject","listColors","creation_date","owner","ignoreMe","update","changeListColor","ColorSelector","showColorSelector","handleColorChange","listColor","backgroundColor","list","StyledImg","ChangeColorIcon","AddList","inputColor","inputNow","clickBehavior","uid","handleColorAdd","autoFocus","StyledForm","buttonHeight","ListsManager","handleSelectList","sortByCreationDate","listsArray","sort","a","b","handleAddList","StyledUl","primary","StyledList","StyledButton","NoToDos","showAddList","StyledNoToDos","ToDosPage","itemsArray","nameA","nameB","getCurrentList","currList","activeList","hasOwnProperty","itemKey","containerHeight","document","querySelector","clientHeight","itemHeight","maxItems","floor","getNextListIdToShowAfterDeleteCurrentList","listsLength","nextListIndex","indexOf","nextList","handleFetchToDos","ToDosWithAuth","expandsToDoOuter","keyframes","compressToDoOuter","StyledContainer"],"mappings":"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","file":"ToDosPage.cd233d32.map","sourceRoot":"..\\src","sourcesContent":["import { todosRef } from \"../../config/firebase\";\r\n\r\nexport const fetchToDos = (userId) => async dispatch => {\r\n  todosRef.on(\"value\", snapshot => {\r\n    dispatch({\r\n      type: \"FETCH_TO_DOS\",\r\n      lists: snapshot.val(),\r\n      userId: userId\r\n    });\r\n  });\r\n};\r\n","export default function selectList(listId) {\r\n  return {\r\n    type: \"CHANGE_ACTIVE_LIST\",\r\n    listId\r\n  };\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { redirectTo } from \"@reach/router\"\r\n\r\nexport function requireAuth(ComposedComponent) {\r\n  class Authentication extends Component {\r\n    static contextTypes = {\r\n      router: PropTypes.object\r\n    };\r\n\r\n    render() {\r\n      if (this.props.authenticated) {\r\n        return <ComposedComponent {...this.props} />;\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  function mapStateToProps(state) {\r\n    return { authenticated: state.user };\r\n  }\r\n\r\n  return connect(mapStateToProps)(Authentication);\r\n}\r\n","export default function editListName(listId, newName) {\r\n  return {\r\n    type: \"EDIT_LIST_NAME\",\r\n    listId,\r\n    newName\r\n  };\r\n}\r\n","export default function deleteList(listId, nextListId) {\r\n  return {\r\n    type: \"DELETE_LIST\",\r\n    listId,\r\n    nextListId\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { lighten } from \"polished\";\r\n\r\nimport { colors } from \"../../assets/globalStyles\";\r\n\r\nexport default class Sort extends React.PureComponent {\r\n  render() {\r\n    return (\r\n      <StyledSortBy>\r\n        <span>Sort by: </span>\r\n        <select\r\n          value={this.props.sortBy}\r\n          onChange={e => this.props.handleSortByChange(e.target.value)}\r\n        >\r\n          <option value=\"most-important\">Most Important</option>\r\n          <option value=\"alphabetically-a-z\">Alphabetically (A-Z)</option>\r\n          <option value=\"alphabetically-z-a\">Alphabetically (Z-A)</option>\r\n          <option value=\"newest\">Newest</option>\r\n          <option value=\"oldest\">Oldest</option>\r\n        </select>\r\n      </StyledSortBy>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledSortBy = styled(\"div\")`\r\n  float: right;\r\n  margin-top: 10px;\r\n  span {\r\n    font-size: 1.1em;\r\n  }\r\n  select {\r\n    border: 1px solid ${lighten(0.15, colors.lightGrey)};\r\n    padding: 7px 2px;\r\n    margin-left: 5px;\r\n  }\r\n`;\r\n","/* eslint-disable react/display-name */\r\nimport React from \"react\";\r\n\r\nexport default function contentEditable(WrappedComponent) {\r\n  return class extends React.Component {\r\n    state = {\r\n      editing: false\r\n    };\r\n\r\n    toggleEdit = e => {\r\n      e.stopPropagation();\r\n      if (this.state.editing) {\r\n        this.cancel();\r\n      } else {\r\n        this.edit();\r\n      }\r\n    };\r\n\r\n    edit = () => {\r\n      this.setState(\r\n        {\r\n          editing: true\r\n        },\r\n        () => {\r\n          this.domElm.focus();\r\n        }\r\n      );\r\n    };\r\n\r\n    save = () => {\r\n      this.setState({ editing: false }, () => {\r\n        this.props.getInputValue(this.domElm.textContent);\r\n      });\r\n    };\r\n\r\n    cancel = () => {\r\n      this.setState({\r\n        editing: false\r\n      });\r\n    };\r\n\r\n    handleKeyDown = e => {\r\n      const { key } = e;\r\n      const { dontSaveOnEnter } = this.props;\r\n      if (dontSaveOnEnter) {\r\n        switch (key) {\r\n          case \"Escape\":\r\n            this.save();\r\n            break;\r\n        }\r\n      } else {\r\n        switch (key) {\r\n          case \"Enter\":\r\n          case \"Escape\":\r\n            this.save();\r\n            break;\r\n        }\r\n      }\r\n    };\r\n\r\n    render() {\r\n      let editOnClick = true;\r\n      const { editing } = this.state;\r\n      if (this.props.editOnClick !== undefined) {\r\n        editOnClick = this.props.editOnClick;\r\n      }\r\n      return (\r\n        <WrappedComponent\r\n          suppressContentEditableWarning={true}\r\n          className={editing ? \"editing\" : \"\"}\r\n          onClick={editOnClick ? this.toggleEdit : undefined}\r\n          contentEditable={editing}\r\n          ref={domNode => {\r\n            this.domElm = domNode;\r\n          }}\r\n          onBlur={this.save}\r\n          onKeyDown={this.handleKeyDown}\r\n          {...this.props}\r\n        >\r\n          {this.props.value}\r\n        </WrappedComponent>\r\n      );\r\n    }\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport contentEditable from \"../../hocs/contentEditable\";\r\n\r\nexport default class DivThanInput extends React.PureComponent {\r\n  render() {\r\n    let EditableDiv = contentEditable(StyledEditableDiv);\r\n    const divProps = Object.assign({}, this.props);\r\n    return (\r\n      <EditableDiv\r\n        className={this.props.className}\r\n        maxLength=\"35\"\r\n        type=\"text\"\r\n        placeholder={this.props.inputPlaceholder}\r\n        value={this.props.value}\r\n        {...divProps}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledEditableDiv = styled(\"div\")`\r\n  cursor: text;\r\n`;\r\n","export default function deleteItem(itemToDelete, listId) {\r\n  return {\r\n    type: \"DELETE_ITEM_FROM_LIST\",\r\n    itemToDelete,\r\n    listId\r\n  };\r\n}\r\n","export default function changeItemPriorityColor(listId, taskId, newPriority) {\r\n  return {\r\n    type: \"CHANGE_ITEM_PRIORITY_COLOR\",\r\n    listId,\r\n    taskId,\r\n    newPriority\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { lighten, darken } from \"polished\";\r\n\r\nimport { priorityColors, colors } from \"../../assets/globalStyles\";\r\n\r\nimport { Button } from \"./Button\";\r\n\r\nclass PrioritySelector extends React.PureComponent {\r\n  state = {\r\n    showChangePriority: false\r\n  };\r\n\r\n  priorityColor = () => {\r\n    let low = priorityColors.low;\r\n    let medium = priorityColors.medium;\r\n    let high = priorityColors.high;\r\n    let { priority } = this.props;\r\n\r\n    if (priority === 1) {\r\n      return low;\r\n    } else if (priority === 2) {\r\n      return medium;\r\n    } else {\r\n      return high;\r\n    }\r\n  };\r\n\r\n  handleChangePriority = (listId, taskId, newPriority) => {\r\n    if (newPriority === \"low\") {\r\n      newPriority = 1;\r\n    } else if (newPriority === \"medium\") {\r\n      newPriority = 2;\r\n    } else {\r\n      newPriority = 3;\r\n    }\r\n    this.props.handleChangeItemPriorityColor(listId, taskId, newPriority);\r\n    this.setState({\r\n      showChangePriority: false\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <span className=\"priority\">\r\n          <Button\r\n            icon=\"priority\"\r\n            clickBehavior={() => this.setState({ showChangePriority: true })}\r\n            text=\"Priority\"\r\n            mainColor={this.priorityColor()}\r\n          />\r\n        </span>\r\n        {this.state.showChangePriority && (\r\n          <StyledColorList>\r\n            {Object.keys(priorityColors).map((priorityColor, i) => (\r\n              <StyledLabelColor\r\n                key={i}\r\n                mainColor={priorityColors[priorityColor]}\r\n                onClick={() =>\r\n                  this.handleChangePriority(\r\n                    this.props.listId,\r\n                    this.props.taskId,\r\n                    priorityColor\r\n                  )\r\n                }\r\n              >\r\n                {priorityColor}\r\n              </StyledLabelColor>\r\n            ))}\r\n          </StyledColorList>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledColorList = styled(\"ul\")`\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 80px;\r\n  width: 240px;\r\n  border-radius: 3px;\r\n  box-shadow: 1px 1px 4px ${colors.lightGrey};\r\n  background: ${lighten(0.025, colors.light)};\r\n  padding: 10px;\r\n`;\r\n\r\nconst StyledLabelColor = styled(\"li\")`\r\n  cursor: pointer;\r\n  background: ${props => props.mainColor};\r\n  border-bottom: 2px solid ${props => darken(0.2, props.mainColor)};\r\n  width: 70px;\r\n  text-align: center;\r\n  display: inline-block;\r\n  padding: 10px 0;\r\n  color: white;\r\n  &:not(:first-child) {\r\n    margin-left: 5px;\r\n  }\r\n`;\r\n\r\nexport default PrioritySelector;\r\n","export default function checkItem(itemToCheck, listId) {\r\n  return {\r\n    type: \"CHECK_ITEM\",\r\n    itemToCheck,\r\n    listId\r\n  };\r\n}\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { lighten } from \"polished\";\r\n\r\nimport { colors } from \"../../assets/globalStyles\";\r\n\r\nimport checkItem from \"../../redux/actionCreators/checkItem\";\r\n\r\nconst RatioButton = props => (\r\n  <StyledRatio\r\n    mainColor={props.mainColor}\r\n    className={props.checked ? \"checked\" : \"not-checked\"}\r\n  >\r\n    <input type=\"checkbox\" id={`checkbox${props.taskId}`} />\r\n    <label\r\n      htmlFor={`checkbox${props.taskId}`}\r\n      onClick={() => props.handleCheckItem(props.taskId, props.listId)}\r\n    />\r\n  </StyledRatio>\r\n);\r\n\r\n// styled components\r\nconst StyledRatio = styled(\"div\")`\r\n  display: table-cell;\r\n  vertical-align: middle;\r\n  width: 20px;\r\n  height: 20px;\r\n  label {\r\n    width: 20px;\r\n    height: 20px;\r\n    background-color: ${colors.light};\r\n    border: 1px solid ${colors.lightGrey};\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    left: 0;\r\n    position: relative;\r\n    display: block;\r\n    transition: 0.25s all ease;\r\n    &:hover {\r\n      background-color: ${lighten(0.3, colors.secondary)};\r\n      border: 1px solid ${colors.secondary};\r\n    }\r\n    &:after {\r\n      border: 5px solid ${props => props.mainColor};\r\n      border-top: none;\r\n      border-right: none;\r\n      content: \"\";\r\n      height: 6px;\r\n      top: -1px;\r\n      left: 1px;\r\n      opacity: 0;\r\n      position: absolute;\r\n      transform: rotate(-45deg);\r\n      width: 16px;\r\n    }\r\n  }\r\n  input[type=\"checkbox\"] {\r\n    width: 1px;\r\n    height: 1px;\r\n    visibility: hidden;\r\n    position: absolute;\r\n  }\r\n  &.checked {\r\n    label {\r\n      background-color: white;\r\n      border-color: ${props => lighten(0.1, props.mainColor)};\r\n      &:after {\r\n        opacity: 1;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleCheckItem(itemToCheck, listId) {\r\n    dispatch(checkItem(itemToCheck, listId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(RatioButton);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\n\r\nimport deleteItem from \"../redux/actionCreators/deleteItem\";\r\nimport changeItemPriorityColor from \"../redux/actionCreators/changeItemPriorityColor\";\r\n\r\nimport PrioritySelector from \"./basics/PrioritySelector\";\r\nimport RatioButton from \"./basics/RatioButton\";\r\nimport { Button } from \"./basics/Button\";\r\n\r\nclass SingleToDo extends React.PureComponent {\r\n  getClasses = () => {\r\n    let classes = \"\";\r\n    if (this.props.task.checked) {\r\n      if (this.props.showItem) {\r\n        classes = \"checked show\";\r\n      } else {\r\n        classes = \"checked hide\";\r\n      }\r\n    } else {\r\n      classes = \"not-checked show\";\r\n    }\r\n    return classes;\r\n  };\r\n\r\n  deleteItem = (itemToDelete, listId) => {\r\n    this.props.handleDeleteItem(itemToDelete, listId);\r\n    setTimeout(\r\n      function() {\r\n        this.props.completeListLayout();\r\n      }.bind(this),\r\n      0\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <StyledLi\r\n          id=\"single-to-do\"\r\n          className={this.getClasses()}\r\n          onMouseEnter={() =>\r\n            this.props.showToDoOptionsFunc(this.props.task.id, true)\r\n          }\r\n          onMouseLeave={() =>\r\n            this.props.showToDoOptionsFunc(this.props.task.id, false)\r\n          }\r\n        >\r\n          <div>\r\n            <RatioButton\r\n              checked={this.props.task.checked}\r\n              taskId={this.props.task.id}\r\n              mainColor={this.props.mainColor}\r\n              listId={this.props.listId}\r\n            />\r\n            <StyledTask\r\n              role=\"button\"\r\n              onKeyPress={() => this.props.itemListDetails(this.props.task)}\r\n              onClick={() => this.props.itemListDetails(this.props.task)}\r\n              tabIndex=\"0\"\r\n            >\r\n              {this.props.task.task}\r\n            </StyledTask>\r\n            <PrioritySelector\r\n              handleChangeItemPriorityColor={\r\n                this.props.handleChangeItemPriorityColor\r\n              }\r\n              priority={this.props.task.priority}\r\n              listId={this.props.listId}\r\n              taskId={this.props.task.id}\r\n            />\r\n            {this.props.showToDoOptions && (\r\n              <span>\r\n                <Button\r\n                  icon=\"delete\"\r\n                  clickBehavior={() =>\r\n                    this.deleteItem(this.props.task.id, this.props.listId)\r\n                  }\r\n                  text=\"Delete\"\r\n                />\r\n              </span>\r\n            )}\r\n          </div>\r\n        </StyledLi>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledLi = styled(\"li\")`\r\n  position: relative;\r\n  padding: 20px;\r\n  text-align: left;\r\n  > div {\r\n    width: 100%;\r\n  }\r\n  div {\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    transition: 0.25s all ease;\r\n    vertical-align: top;\r\n    cursor: pointer;\r\n  }\r\n  span {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    &.priority {\r\n      right: 40px;\r\n    }\r\n  }\r\n  &.checked {\r\n    div {\r\n      text-decoration: line-through;\r\n      opacity: 0.5;\r\n    }\r\n  }\r\n  &.hide {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst StyledTask = styled(\"div\")`\r\n  width: calc(100% - 90px);\r\n  padding-left: 15px;\r\n  vertical-align: middle !important;\r\n`;\r\n\r\nconst mapStateToProps = ({ lists }) => ({\r\n  lists\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleDeleteItem(itemToDelete, listId) {\r\n    dispatch(deleteItem(itemToDelete, listId));\r\n  },\r\n  handleChangeItemPriorityColor(listId, taskId, newPriority) {\r\n    dispatch(changeItemPriorityColor(listId, taskId, newPriority));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SingleToDo);\r\n","export const randomId = () =>\r\n  Math.random()\r\n    .toString(36)\r\n    .slice(-10);\r\n\r\nexport const dateTransformation = dateTime => {\r\n  if (dateTime) {\r\n    let date = new Date(dateTime);\r\n    return date.toDateString();\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const currTime = () =>\r\n  new Date(new Date().toString().split(\"GMT\")[0] + \" UTC\")\r\n    .toISOString()\r\n    .split(\".\")[0];\r\n\r\nexport const slugify = text =>\r\n  text\r\n    .toString()\r\n    .toLowerCase()\r\n    .replace(/\\s+/g, \"-\")\r\n    .replace(/[^\\w-]+/g, \"\")\r\n    .replace(/--+/g, \"-\")\r\n    .replace(/^-+/, \"\")\r\n    .replace(/-+$/, \"\");\r\n","export default function editItemName(listId, taskId, newName) {\r\n  return {\r\n    type: \"EDIT_ITEM_NAME\",\r\n    listId,\r\n    taskId,\r\n    newName\r\n  };\r\n}\r\n","export default function editItemNotes(listId, taskId, newNotes) {\r\n  return {\r\n    type: \"EDIT_ITEM_NOTES\",\r\n    listId,\r\n    taskId,\r\n    newNotes\r\n  };\r\n}\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { colors } from \"../assets/globalStyles\";\r\n\r\nimport editItemName from \"../redux/actionCreators/editItemName\";\r\nimport editItemNotes from \"../redux/actionCreators/editItemNotes\";\r\n\r\nimport DivThanInput from \"./basics/DivThanInput\";\r\n\r\nclass SingleToDoDetailsEdit extends React.PureComponent {\r\n  state = {\r\n    showEditItems: false\r\n  };\r\n\r\n  getInputValue = inputValue => {\r\n    this.props.handleEditItemName(\r\n      this.props.listId,\r\n      this.props.task.id,\r\n      inputValue\r\n    );\r\n  };\r\n\r\n  getTextAreaValue = textAreaValue => {\r\n    this.props.handleEditItemNotes(\r\n      this.props.listId,\r\n      this.props.task.id,\r\n      textAreaValue\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <StyledEditableDiv\r\n          value={this.props.task.task}\r\n          getInputValue={this.getInputValue}\r\n          inputPlaceholder=\"Edit task\"\r\n        />\r\n        <StyledEditableDivTextArea\r\n          dontSaveOnEnter={true}\r\n          value={this.props.task.notes}\r\n          getInputValue={this.getTextAreaValue}\r\n          inputPlaceholder=\"Edit task\"\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\n\r\nconst StyledEditableDiv = styled(DivThanInput)`\r\n  position: relative;\r\n  text-align: left;\r\n  background: ${colors.light};\r\n  width: 100%;\r\n  margin-bottom: 5px;\r\n  border: 0;\r\n  padding: 15px 10px;\r\n`;\r\n\r\nconst StyledEditableDivTextArea = styled(DivThanInput)`\r\n  position: relative;\r\n  text-align: left;\r\n  background: ${colors.light};\r\n  width: 100%;\r\n  margin-bottom: 5px;\r\n  border: 0;\r\n  padding: 12px 10px;\r\n  margin: 10px 0;\r\n  height: 120px;\r\n  overflow-x: auto;\r\n`;\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleEditItemName(listId, taskId, newName) {\r\n    dispatch(editItemName(listId, taskId, newName));\r\n  },\r\n  handleEditItemNotes(listId, taskId, newNotes) {\r\n    dispatch(editItemNotes(listId, taskId, newNotes));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(SingleToDoDetailsEdit);\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { lighten } from \"polished\";\r\n\r\nimport { colors } from \"../assets/globalStyles\";\r\nimport EditIcon from \"../assets/icons/edit.svg\";\r\n\r\nimport { dateTransformation } from \"../assets/helpers\";\r\n\r\nimport deleteItem from \"../redux/actionCreators/deleteItem\";\r\nimport PrioritySelector from \"./basics/PrioritySelector\";\r\nimport changeItemPriorityColor from \"../redux/actionCreators/changeItemPriorityColor\";\r\n\r\nimport SingleToDoDetailsEdit from \"./SingleToDoDetailsEdit\";\r\nimport { Button } from \"./basics/Button\";\r\n\r\nclass SingleToDoDetails extends React.PureComponent {\r\n  deleteItem = (itemToDelete, listId) => {\r\n    this.props.closeDetails();\r\n    this.props.handleDeleteItem(itemToDelete, listId);\r\n    setTimeout(\r\n      function() {\r\n        this.props.completeListLayout();\r\n      }.bind(this),\r\n      0\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <StyledDetailsContainer\r\n        className={this.props.task.checked ? \"checked\" : \"not-checked\"}\r\n      >\r\n        <div className=\"header-container\">\r\n          <StyledH3 mainColor={this.props.mainColor}>Task details</StyledH3>\r\n          <StyledEditIcon mainColor={this.props.mainColor} />\r\n          <PrioritySelector\r\n            handleChangeItemPriorityColor={\r\n              this.props.handleChangeItemPriorityColor\r\n            }\r\n            priority={this.props.task.priority}\r\n            listId={this.props.listId}\r\n            taskId={this.props.task.id}\r\n          />\r\n        </div>\r\n        <ul>\r\n          <SingleToDoDetailsEdit\r\n            task={this.props.task}\r\n            showDetailsEditItems={this.props.showDetailsEditItems}\r\n            showDetailsEditItemsFunc={this.props.showDetailsEditItemsFunc}\r\n            itemListDetails={this.props.itemListDetails}\r\n            mainColor={this.props.mainColor}\r\n            showToDoOptionsFunc={this.props.showToDoOptionsFunc}\r\n            listId={this.props.listId}\r\n          />\r\n        </ul>\r\n        <StyledFooter mainColor={this.props.mainColor}>\r\n          <Button\r\n            className=\"footer-item\"\r\n            icon=\"collapse\"\r\n            clickBehavior={this.props.closeDetails}\r\n            text=\"Close me\"\r\n          />\r\n          <div className=\"footer-item\">\r\n            <b>Date created:</b>{\" \"}\r\n            {dateTransformation(this.props.task.start_date)}\r\n          </div>\r\n          <Button\r\n            className=\"footer-item\"\r\n            icon=\"delete\"\r\n            clickBehavior={() =>\r\n              this.deleteItem(this.props.task.id, this.props.listId)\r\n            }\r\n            text=\"Delete\"\r\n          />\r\n        </StyledFooter>\r\n      </StyledDetailsContainer>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledDetailsContainer = styled(\"div\")`\r\n  height: 100%;\r\n  width: 45%;\r\n  position: absolute;\r\n  padding: 20px;\r\n  right: 5px;\r\n  bottom: 0;\r\n  background: white;\r\n  box-shadow: -1px 2px 4px ${colors.lightGrey};\r\n  &.active {\r\n    width: 40%;\r\n  }\r\n  > button {\r\n    position: absolute;\r\n    bottom: 20px;\r\n  }\r\n  li#single-ToDo {\r\n    div {\r\n      padding-left: 0;\r\n    }\r\n    div + div {\r\n      padding-left: 15px;\r\n    }\r\n  }\r\n  &.checked {\r\n    .header-container,\r\n    ul,\r\n    > div {\r\n      opacity: 0.5;\r\n    }\r\n  }\r\n`;\r\n\r\nconst StyledEditIcon = styled(EditIcon)`\r\n  display: inline-block;\r\n  float: right;\r\n  width: 33px;\r\n  fill: ${props => props.mainColor};\r\n`;\r\n\r\nconst StyledH3 = styled(\"h3\")`\r\n  color: ${props => props.mainColor};\r\n  margin-bottom: 10px;\r\n  margin-top: 7px;\r\n  font-size: 1.3em;\r\n  display: inline-block;\r\n`;\r\n\r\nconst StyledFooter = styled(\"div\")`\r\n  position: absolute;\r\n  bottom: 0;\r\n  background: ${lighten(0.225, colors.lightGrey)};\r\n  width: 100%;\r\n  left: 0;\r\n  button {\r\n    background: ${lighten(0.2, colors.lightGrey)};\r\n    margin: 0;\r\n    padding: 20px;\r\n    transition: 0.25s all ease;\r\n    &:hover {\r\n      background: ${lighten(0.15, colors.lightGrey)};\r\n    }\r\n    svg {\r\n      margin-left: 0;\r\n      fill: ;\r\n    }\r\n  }\r\n  div {\r\n    width: calc(100% - 120px);\r\n    text-align: center;\r\n  }\r\n  button:last-child {\r\n    svg {\r\n      &:hover {\r\n        opacity: 0.4 !important;\r\n        fill: black !important;\r\n      }\r\n    }\r\n  }\r\n  .footer-item {\r\n    display: inline-block;\r\n  }\r\n`;\r\n\r\nconst mapStateToProps = ({ lists }) => ({\r\n  lists\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleDeleteItem(itemToDelete, listId) {\r\n    dispatch(deleteItem(itemToDelete, listId));\r\n  },\r\n  handleChangeItemPriorityColor(listId, taskId, newPriority) {\r\n    dispatch(changeItemPriorityColor(listId, taskId, newPriority));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SingleToDoDetails);\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nimport { randomId, currTime } from \"../../assets/helpers\";\r\n\r\nexport const addItem = (itemToAdd, listId) => async dispatch => {\r\n  let taskId = randomId();\r\n  let updates = {};\r\n  let newItemObject = {\r\n    id: taskId,\r\n    task: itemToAdd,\r\n    start_date: currTime(),\r\n    checked: false,\r\n    priority: 1\r\n  };\r\n\r\n  databaseRef.child(`lists/${listId}/items/`).push(newItemObject);\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { addItem } from \"../redux/actionCreators/addItem\";\r\n\r\nclass AddItem extends React.PureComponent {\r\n  state = {\r\n    inputValue: \"\"\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.inputValue != \"\" && this.state.inputValue.length > 3) {\r\n      this.props.handleAddItem(this.state.inputValue, this.props.listId);\r\n      setTimeout(\r\n        function() {\r\n          this.props.completeListLayout();\r\n        }.bind(this),\r\n        0\r\n      );\r\n      this.setState({ inputValue: \"\" });\r\n    }\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={e => this.handleSubmit(e)}>\r\n        <StyledInput\r\n          maxLength=\"35\"\r\n          type=\"text\"\r\n          placeholder=\"Insert new item\"\r\n          value={this.state.inputValue}\r\n          onChange={e => this.handleChange(e)}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledInput = styled(\"input\")`\r\n  position: relative;\r\n  text-align: left;\r\n  margin-left: 53px;\r\n  width: 60%;\r\n  margin-bottom: 5px;\r\n  border: 0;\r\n  background: transparent;\r\n  padding: 20px 0;\r\n`;\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleAddItem(newItem, listId) {\r\n    dispatch(addItem(newItem, listId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(AddItem);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { lighten, darken } from \"polished\";\r\n\r\nimport { colors } from \"../assets/globalStyles\";\r\n\r\nimport editListName from \"../redux/actionCreators/editListName\";\r\nimport deleteList from \"../redux/actionCreators/deleteList\";\r\n\r\nimport Sort from \"./basics/Sort\";\r\nimport { Button } from \"./basics/Button\";\r\nimport DivThanInput from \"./basics/DivThanInput\";\r\nimport SingleToDo from \"./SingleToDo\";\r\nimport SingleToDoDetails from \"./SingleToDoDetails\";\r\nimport AddItem from \"./AddItem\";\r\n\r\nclass ToDos extends React.PureComponent {\r\n  state = {\r\n    detailsTask: \"\",\r\n    showToDoOptions: false,\r\n    showDetailsEditItems: false\r\n  };\r\n\r\n  handleEditList = inputValue => {\r\n    if (inputValue.length > 3) {\r\n      this.props.handleEditListName(this.props.currentList.id, inputValue);\r\n    } else {\r\n      alert(\"List name should be longer than 3 letters\");\r\n    }\r\n  };\r\n\r\n  deleteList = () => {\r\n    this.props.handleDeleteList(\r\n      this.props.currentList.id,\r\n      this.props.nextListId\r\n    );\r\n  };\r\n\r\n  itemListDetails = task => {\r\n    this.setState(\r\n      {\r\n        detailsTask: task,\r\n        showDetailsEditItems: false\r\n      },\r\n      () => {\r\n        this.props.showDetailsFunc(true);\r\n      }\r\n    );\r\n  };\r\n\r\n  closeDetails = () => {\r\n    this.setState({ detailsTask: {} }, () => {\r\n      this.props.showDetailsFunc(false);\r\n    });\r\n  };\r\n\r\n  showToDoOptionsFunc = (taskId, toggle) => {\r\n    this.setState({ showToDoOptions: `${toggle},${taskId}` });\r\n  };\r\n\r\n  showDetailsEditItemsFunc = () => {\r\n    this.setState({ showDetailsEditItems: true });\r\n  };\r\n\r\n  showEditListNameFunc = () => {\r\n    this.setState({ showEditListName: true });\r\n  };\r\n\r\n  numberOfCheckedItems = () => {\r\n    let checkedItems = this.props.currentList.items.filter(\r\n      item => item.checked\r\n    );\r\n    return checkedItems.length;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <StyledEditableDiv\r\n          className={this.props.className}\r\n          value={this.props.currentList.name}\r\n          getInputValue={this.handleEditList}\r\n          inputPlaceholder=\"List name\"\r\n        />\r\n        <Button\r\n          icon=\"delete\"\r\n          clickBehavior={() => this.deleteList()}\r\n          text=\"Delete\"\r\n        />\r\n        <Sort\r\n          sortBy={this.props.sortBy}\r\n          handleSortByChange={this.props.handleSortByChange}\r\n        />\r\n        <StyledTodoHolder>\r\n          <StyledFilterChecked onClick={() => this.props.filterCheckedFunc()}>\r\n            {this.props.filterChecked\r\n              ? `Show checked items - (${this.numberOfCheckedItems()})`\r\n              : `Hide checked items - (${this.numberOfCheckedItems()})`}\r\n          </StyledFilterChecked>\r\n          <StyledToDo\r\n            id=\"to-dos\"\r\n            mainColor={this.props.currentList.color}\r\n            toDoWidth={this.props.showDetails ? \"55%\" : \"100%\"}\r\n          >\r\n            <ul>\r\n              {this.props.currentList.items.map(task => (\r\n                <SingleToDo\r\n                  key={task.id}\r\n                  task={task}\r\n                  itemListDetails={this.itemListDetails}\r\n                  mainColor={this.props.currentList.color}\r\n                  showToDoOptionsFunc={this.showToDoOptionsFunc}\r\n                  showToDoOptions={\r\n                    `true,${task.id}` === this.state.showToDoOptions &&\r\n                    this.state.showToDoOptions\r\n                  }\r\n                  listId={this.props.currentList.id}\r\n                  completeListLayout={this.props.completeListLayout}\r\n                  showItem={this.props.filterChecked ? false : true}\r\n                />\r\n              ))}\r\n              <AddItem\r\n                addItem={this.props.addItem}\r\n                listId={this.props.currentList.id}\r\n                completeListLayout={this.props.completeListLayout}\r\n              />\r\n              {[...Array(this.props.completeListLayoutNum)].map((e, i) => (\r\n                <li key={i} className={i === 0 ? \"first-fake\" : null} />\r\n              ))}\r\n            </ul>\r\n          </StyledToDo>\r\n          {this.props.showDetails && (\r\n            <SingleToDoDetails\r\n              task={this.state.detailsTask}\r\n              showDetailsEditItems={this.state.showDetailsEditItems}\r\n              showDetailsEditItemsFunc={this.showDetailsEditItemsFunc}\r\n              itemListDetails={this.itemListDetails}\r\n              mainColor={this.props.currentList.color}\r\n              closeDetails={this.closeDetails}\r\n              showToDoOptionsFunc={this.showToDoOptionsFunc}\r\n              listId={this.props.currentList.id}\r\n              completeListLayout={this.props.completeListLayout}\r\n            />\r\n          )}\r\n        </StyledTodoHolder>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledTodoHolder = styled(\"div\")`\r\n  display: block;\r\n  position: relative;\r\n  margin-bottom: 4vh;\r\n`;\r\n\r\nconst StyledFilterChecked = styled(\"div\")`\r\n  width: 100%;\r\n  display: block;\r\n  padding: 12px 40px;\r\n  background: ${colors.light};\r\n  cursor: pointer;\r\n  transition: all 0.25s ease;\r\n  &:hover {\r\n    background: ${darken(0.02, colors.light)};\r\n  }\r\n`;\r\n\r\nconst StyledEditableDiv = styled(DivThanInput)`\r\n  display: inline-block;\r\n  width: 250px;\r\n  font-size: 2em;\r\n  text-transform: capitalize;\r\n  border-bottom: 1px solid white;\r\n  transition: all 0.25s ease;\r\n  &:hover,\r\n  &:focus {\r\n    border-bottom: 1px solid ${colors.lightGrey};\r\n  }\r\n`;\r\n\r\nconst StyledToDo = styled(\"div\")`\r\n  padding: 0 20px;\r\n  border-radius: 3px;\r\n  box-shadow: 1px 1px 4px ${colors.lightGrey};\r\n  background: ${lighten(0.025, colors.light)};\r\n  height: 55vh;\r\n  overflow-x: auto;\r\n  width: ${props => props.toDoWidth};\r\n  &::-webkit-scrollbar-track {\r\n    background-color: ${props => lighten(0.5, props.mainColor)};\r\n  }\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n    background-color: ${props => lighten(0.5, props.mainColor)};\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: ${props => props.mainColor};\r\n  }\r\n  > ul > li {\r\n    position: relative;\r\n    height: 61px;\r\n    border-bottom: 1px solid ${lighten(0.2, colors.lightGrey)};\r\n    &.first-fake {\r\n      border-top: 1px solid ${lighten(0.2, colors.lightGrey)};\r\n    }\r\n  }\r\n`;\r\n\r\nconst mapStateToProps = ({ lists }) => ({\r\n  lists\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleEditListName(listId, newName) {\r\n    dispatch(editListName(listId, newName));\r\n  },\r\n  handleDeleteList(listId, nextListId) {\r\n    dispatch(deleteList(listId, nextListId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ToDos);\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nimport { randomId, currTime } from \"../../assets/helpers\";\r\nimport { listColors } from \"../../assets/globalStyles\";\r\n\r\nexport const addList = (newList, newColor, userId) => async dispatch => {\r\n  let listId = randomId();\r\n  let updates = {};\r\n  let newListObject = {\r\n    name: newList,\r\n    id: listId,\r\n    color: listColors[newColor],\r\n    creation_date: currTime(),\r\n    owner: userId || \"\",\r\n    items: { ignoreMe: { ignoreMe: true } }\r\n  };\r\n  updates[`lists/${listId}`] = newListObject;\r\n\r\n  databaseRef.update(updates);\r\n};\r\n","export default function changeListColor(listId, newColor) {\r\n  return {\r\n    type: \"CHANGE_LIST_COLOR\",\r\n    listId,\r\n    newColor\r\n  };\r\n}\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { lighten } from \"polished\";\r\n\r\nimport { listColors, colors } from \"../../assets/globalStyles\";\r\nimport ChangeColorIcon from \"../../assets/icons/paint-board-and-brush.svg\";\r\n\r\nclass ColorSelector extends React.PureComponent {\r\n  state = {\r\n    showColorSelector: false\r\n  };\r\n\r\n  handleColorChange = (listId, listColor) => {\r\n    this.props.handleColorChange(listId, listColor);\r\n    this.setState({\r\n      showColorSelector: !this.state.showColorSelector\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <StyledImg\r\n          alt=\"change color\"\r\n          role=\"button\"\r\n          onKeyPress={() =>\r\n            this.setState({\r\n              showColorSelector: !this.state.showColorSelector\r\n            })\r\n          }\r\n          onClick={() =>\r\n            this.setState({\r\n              showColorSelector: !this.state.showColorSelector\r\n            })\r\n          }\r\n          tabIndex=\"0\"\r\n        />\r\n        {this.state.showColorSelector && (\r\n          <StyledColorList>\r\n            {Object.keys(listColors).map((listColor, i) => (\r\n              <StyledLabelColor\r\n                key={i}\r\n                style={{ backgroundColor: listColors[listColor] }}\r\n                onClick={() =>\r\n                  this.handleColorChange(this.props.list.id, listColor)\r\n                }\r\n              />\r\n            ))}\r\n          </StyledColorList>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledImg = styled(ChangeColorIcon)`\r\n  cursor: pointer;\r\n  width: 20px;\r\n  display: inline-block;\r\n  margin-bottom: -6px;\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst StyledColorList = styled(\"ul\")`\r\n  position: absolute;\r\n  bottom: 20px;\r\n  z-index: 9999;\r\n  left: 0;\r\n  border-radius: 3px;\r\n  box-shadow: 1px 1px 4px ${colors.lightGrey};\r\n  background: ${lighten(0.025, colors.light)};\r\n  padding: 10px;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledLabelColor = styled(\"li\")`\r\n  cursor: pointer;\r\n  height: 30px;\r\n  width: 30px;\r\n  display: inline-block;\r\n  &:not(:first-child) {\r\n    margin-left: 2%;\r\n  }\r\n`;\r\n\r\nexport default ColorSelector;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { listColors } from \"../assets/globalStyles\";\r\n\r\nimport { Button } from \"./basics/Button\";\r\nimport ColorSelector from \"./basics/ColorSelector\";\r\n\r\nclass AddList extends React.PureComponent {\r\n  state = {\r\n    inputValue: \"\",\r\n    inputColor: \"lightGrey\"\r\n  };\r\n\r\n  handleChange = e => {\r\n    let inputNow = e.target.value;\r\n    this.setState({ inputValue: inputNow });\r\n  };\r\n\r\n  clickBehavior = e => {\r\n    e.preventDefault();\r\n    if (this.state.inputValue != \"\" && this.state.inputValue.length > 3) {\r\n      this.props.clickBehavior(this.state.inputValue, this.state.inputColor, this.props.user.uid);\r\n      this.setState({ inputValue: \"\", inputColor: \"lightGrey\" });\r\n    }\r\n  };\r\n\r\n  handleColorAdd = (list, color) => {\r\n    this.setState({ inputColor: color });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <StyledForm\r\n          mainColor={listColors[this.state.inputColor]}\r\n          buttonHeight={this.state.inputValue === \"\" ? \"7px\" : \"40px\"}\r\n        >\r\n          <div className=\"input-holder\">\r\n            <input\r\n              autoFocus={this.props.autoFocus ? true : false}\r\n              type=\"text\"\r\n              placeholder=\"Create new list\"\r\n              value={this.state.inputValue}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n            <ColorSelector handleColorChange={this.handleColorAdd} />\r\n          </div>\r\n          <Button\r\n            style={{ backgroundColor: \"blue\" }}\r\n            clickBehavior={e => this.clickBehavior(e)}\r\n            text={this.props.text}\r\n          />\r\n        </StyledForm>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledForm = styled(\"form\")`\r\n  display: inline-block;\r\n  position: relative;\r\n  vertical-align: top;\r\n  margin-left: 2%;\r\n  .input-holder {\r\n    border-radius: 3px 3px 0 0;\r\n    padding: 12px 0 10px;\r\n    max-width: 160px;\r\n    input {\r\n      border: 0;\r\n      font-size: 1.2em;\r\n      width: calc(100% - 40px);\r\n      display: inline-block;\r\n      padding: 0 0 0 10px;\r\n    }\r\n  }\r\n  img {\r\n    background: white;\r\n    margin: 0;\r\n    padding: 15px 10px;\r\n    margin-bottom: -20px;\r\n    border-radius: 0 3px 0 0;\r\n    width: 40px;\r\n    border: 1px solid ${props => props.mainColor};\r\n    border-left: 0;\r\n  }\r\n  button {\r\n    background: ${props => props.mainColor};\r\n    display: block;\r\n    width: 100%;\r\n    border-radius: 0;\r\n    font-size: 2em;\r\n    padding: 0 0 7px;\r\n    line-height: 1em;\r\n    margin: 0;\r\n    height: ${props => props.buttonHeight};\r\n  }\r\n`;\r\n\r\n\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n  user\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(AddList);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { lighten } from \"polished\";\r\n\r\nimport { colors } from \"../assets/globalStyles\";\r\n\r\nimport {addList} from \"../redux/actionCreators/addList\";\r\nimport changeListColor from \"../redux/actionCreators/changeListColor\";\r\nimport selectList from \"../redux/actionCreators/selectList\";\r\n\r\nimport ColorSelector from \"./basics/ColorSelector\";\r\nimport AddList from \"./AddList\";\r\n\r\nclass ListsManager extends React.PureComponent {\r\n\r\n  handleSelectList = listId => {\r\n    this.props.handleSelectList(listId);\r\n    setTimeout(\r\n      function() {\r\n        this.props.completeListLayout();\r\n      }.bind(this),\r\n      0\r\n    );\r\n  };\r\n\r\n  sortByCreationDate = () => {\r\n    let {lists} = this.props;\r\n    let listsArray = [];\r\n    Object.keys(lists).map(list => listsArray.push(lists[list]));\r\n\r\n    listsArray.sort(function(a, b) {\r\n      return new Date(a.creation_date) - new Date(b.creation_date);\r\n    });\r\n\r\n    return listsArray;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h3>Lists:</h3>\r\n        <StyledUl>\r\n          {this.sortByCreationDate().map((list, i) => (\r\n            <StyledList key={i}>\r\n              <StyledButton\r\n                className=\"color-wrapper\"\r\n                mainColor={list.color}\r\n                onClick={() => this.handleSelectList(list.id)}\r\n              >\r\n                <div className=\"info-wrapper\">\r\n                  <span>{list.name}</span>\r\n                  <ColorSelector\r\n                    list={list}\r\n                    handleColorChange={this.props.handleColorChange}\r\n                  />\r\n                </div>\r\n              </StyledButton>\r\n            </StyledList>\r\n          ))}\r\n          <AddList\r\n            autoFocus={false}\r\n            clickBehavior={this.props.handleAddList}\r\n            text=\"+\"\r\n          />\r\n        </StyledUl>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledUl = styled(\"ul\")`\r\n  overflow-x: auto;\r\n  max-width: 100%;\r\n  white-space: nowrap;\r\n  height: 100px;\r\n  padding-top: 15px;\r\n  &::-webkit-scrollbar-track {\r\n    background-color: ${lighten(0.5, colors.primary)};\r\n  }\r\n\r\n  &::-webkit-scrollbar {\r\n    height: 6px;\r\n    background-color: ${lighten(0.5, colors.primary)};\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: ${colors.primary};\r\n  }\r\n`;\r\n\r\nconst StyledList = styled(\"li\")`\r\n  margin: 0 2%;\r\n  display: inline-block;\r\n  text-align: center;\r\n  &:first-child {\r\n    margin-left: 0;\r\n  }\r\n  span {\r\n    text-transform: capitalize;\r\n    font-size: 1.2em;\r\n  }\r\n`;\r\n\r\nconst StyledButton = styled(\"button\")`\r\n  background: white;\r\n  border: 0;\r\n  width: 100%;\r\n  cursor: pointer;\r\n  height: 50px;\r\n  margin-bottom: 10px;\r\n  border-bottom: 6px solid ${props => props.mainColor};\r\n  transition: 0.2s all ease;\r\n  &:hover {\r\n    border-bottom-width: 10px;\r\n  }\r\n`;\r\n\r\nconst mapStateToProps = ({ lists }) => ({\r\n  lists\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleAddList(newList, newColor, userId) {\r\n    dispatch(addList(newList, newColor, userId));\r\n  },\r\n  handleColorChange(listId, newColor) {\r\n    dispatch(changeListColor(listId, newColor));\r\n  },\r\n  handleSelectList: listId => {\r\n    dispatch(selectList(listId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ListsManager);\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\nimport { lighten } from \"polished\";\r\n\r\nimport { colors } from \"../assets/globalStyles\";\r\n\r\nimport { addList } from \"../redux/actionCreators/addList\";\r\n\r\nimport { Button } from \"./basics/Button\";\r\nimport AddList from \"./AddList\";\r\n\r\nclass NoToDos extends React.PureComponent {\r\n  state = {\r\n    showAddList: false\r\n  };\r\n\r\n  handleAddList = (newList, newColor, userId) => {\r\n    this.props.handleAddList(newList, newColor, userId);\r\n    this.setState({ showAddList: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <StyledNoToDos>\r\n        {this.state.showAddList ? (\r\n          <AddList\r\n            autoFocus={true}\r\n            clickBehavior={this.handleAddList}\r\n            text=\"+\"\r\n          />\r\n        ) : (\r\n          <React.Fragment>\r\n            <h2>Create your first list</h2>\r\n            <Button\r\n              className=\"footer-item\"\r\n              icon=\"add\"\r\n              clickBehavior={() => this.setState({ showAddList: true })}\r\n              text=\"Create list\"\r\n            />\r\n          </React.Fragment>\r\n        )}\r\n      </StyledNoToDos>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledNoToDos = styled(\"div\")`\r\n  padding: 0 20px;\r\n  border-radius: 3px;\r\n  box-shadow: 1px 1px 4px ${colors.lightGrey};\r\n  background: ${lighten(0.025, colors.light)};\r\n  height: 55vh;\r\n  overflow-x: auto;\r\n  width: 100%;\r\n  text-align: center;\r\n  h2 {\r\n    margin-top: 15vh;\r\n  }\r\n  button {\r\n    padding: 0;\r\n    margin: 1vh auto;\r\n    svg {\r\n      width: 80px;\r\n      height: 80px;\r\n    }\r\n  }\r\n  form {\r\n    margin-top: 18vh;\r\n  }\r\n`;\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleAddList(newList, newColor, userId) {\r\n    dispatch(addList(newList, newColor, userId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(NoToDos);\r\n","import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { fetchToDos } from \"../redux/actionCreators/fetchToDos\";\r\nimport selectList from \"../redux/actionCreators/selectList\";\r\n\r\nimport { requireAuth } from \"../hocs/requireAuth\";\r\n\r\nimport ToDos from \"./ToDos\";\r\nimport ListsManager from \"./ListsManager\";\r\nimport NoToDos from \"./NoToDos\";\r\nimport Loading from \"./basics/Loading\";\r\n\r\nclass ToDosPage extends React.PureComponent {\r\n  state = {\r\n    completeListLayoutNum: 0,\r\n    showDetails: false,\r\n    sortBy: \"most-important\",\r\n    filterChecked: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.handleFetchToDos(this.props.user.uid);\r\n    if (\r\n      this.props.lists != \"loading\" &&\r\n      Object.keys(this.props.lists).length > 0\r\n    ) {\r\n      this.completeListLayout();\r\n      this.getNextListIdToShowAfterDeleteCurrentList();\r\n    }\r\n  }\r\n\r\n  sortBy = (itemsArray) => {\r\n    if (this.state.sortBy === \"most-important\") {\r\n      itemsArray.sort(function(a, b) {\r\n        return b.priority - a.priority;\r\n      });\r\n    } else if (this.state.sortBy === \"alphabetically-a-z\") {\r\n      itemsArray.sort(function(a, b) {\r\n        var nameA = a.task.toLowerCase(),\r\n          nameB = b.task.toLowerCase();\r\n        if (nameA < nameB)\r\n          //sort string ascending\r\n          return -1;\r\n        if (nameA > nameB) return 1;\r\n        return 0; //default return value (no sorting)\r\n      });\r\n    } else if (this.state.sortBy === \"alphabetically-z-a\") {\r\n      itemsArray.sort(function(a, b) {\r\n        var nameA = a.task.toLowerCase(),\r\n          nameB = b.task.toLowerCase();\r\n        if (nameA < nameB)\r\n          //sort string ascending\r\n          return 1;\r\n        if (nameA > nameB) return -1;\r\n        return 0; //default return value (no sorting)\r\n      });\r\n    } else if (this.state.sortBy === \"newest\") {\r\n      itemsArray.sort(function(a, b) {\r\n        return new Date(b.start_date) - new Date(a.start_date);\r\n      });\r\n    } else if (this.state.sortBy === \"oldest\") {\r\n      itemsArray.sort(function(a, b) {\r\n        return new Date(a.start_date) - new Date(b.start_date);\r\n      });\r\n    }\r\n\r\n    return itemsArray\r\n  }\r\n\r\n  getCurrentList = () => {\r\n    let lists = { ...this.props.lists };\r\n    let currList = Object.keys(lists).filter(\r\n      list => lists[list].id === this.props.activeList\r\n    );\r\n    let items = lists[currList].items;\r\n    let itemsArray = []\r\n    Object.keys(items).filter(item => !items[item].hasOwnProperty('ignoreMe')).map(itemKey => itemsArray.push(items[itemKey]))\r\n\r\n    this.sortBy(itemsArray)\r\n\r\n    lists[currList].items = itemsArray;\r\n\r\n    return lists[currList];\r\n  };\r\n\r\n  completeListLayout = () => {\r\n    let currList = this.getCurrentList();\r\n    let containerHeight = document.querySelector(\"#to-dos\").clientHeight;\r\n    let itemHeight =\r\n      currList.items.length > 0\r\n        ? document.querySelector(\"#single-to-do\").clientHeight\r\n        : 61;\r\n    let maxItems = Math.floor(containerHeight / itemHeight) - 1;\r\n    if (currList.items.length < maxItems) {\r\n      let completeListLayoutNum = maxItems - currList.items.length;\r\n      this.setState({ completeListLayoutNum }, () => {});\r\n    } else {\r\n      this.setState({ completeListLayoutNum: 0 }, () => {});\r\n    }\r\n  };\r\n\r\n  getNextListIdToShowAfterDeleteCurrentList = () => {\r\n    let lists = { ...this.props.lists };\r\n    let currList = Object.keys(lists).filter(\r\n      list => lists[list].id === this.props.activeList\r\n    )[0];\r\n    let listsLength = Object.keys(this.props.lists).length - 1;\r\n    let nextListIndex = Object.keys(lists).indexOf(currList) + 1;\r\n    let nextList =\r\n      nextListIndex > listsLength\r\n        ? lists[Object.keys(lists)[0]].id\r\n        : lists[Object.keys(lists)[nextListIndex]].id;\r\n\r\n    return nextList;\r\n  };\r\n\r\n  showDetailsFunc = showDetails => {\r\n    this.setState({ showDetails });\r\n  };\r\n\r\n  handleSortByChange = sortBy => {\r\n    this.setState({ sortBy }, () => {});\r\n  };\r\n\r\n  filterCheckedFunc = () => {\r\n    this.setState({ filterChecked: !this.state.filterChecked }),\r\n      () => {\r\n        this.getCurrentList();\r\n      };\r\n  };\r\n\r\n  render() {\r\n    let ToDosWithAuth = requireAuth(ToDos);\r\n\r\n    return (\r\n      <StyledContainer\r\n        className={this.state.showDetails ? \"expanded\" : \"compressed\"}\r\n      >\r\n        {this.props.lists === \"loading\" ? (\r\n          <Loading />\r\n        ) : Object.keys(this.props.lists).length > 0 ? (\r\n          <React.Fragment>\r\n            <ToDosWithAuth\r\n              currentList={this.getCurrentList()}\r\n              nextListId={this.getNextListIdToShowAfterDeleteCurrentList()}\r\n              filterCheckedFunc={this.filterCheckedFunc}\r\n              filterChecked={this.state.filterChecked}\r\n              completeListLayoutNum={this.state.completeListLayoutNum}\r\n              completeListLayout={this.completeListLayout}\r\n              showDetails={this.state.showDetails}\r\n              showDetailsFunc={this.showDetailsFunc}\r\n              sortBy={this.state.sortBy}\r\n              handleSortByChange={this.handleSortByChange}\r\n            />\r\n            <ListsManager completeListLayout={this.completeListLayout} />\r\n          </React.Fragment>\r\n        ) : (\r\n          <NoToDos />\r\n        )}\r\n      </StyledContainer>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst expandsToDoOuter = keyframes`\r\n  0% {\r\n    width: 60%;\r\n  }\r\n  100% {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst compressToDoOuter = keyframes`\r\n  0% {\r\n    width: 80%;\r\n  }\r\n  100% {\r\n    width: 60%;\r\n  }\r\n`;\r\n\r\nconst StyledContainer = styled(\"div\")`\r\n  width: 60%;\r\n  margin: 30px auto;\r\n  position: relative;\r\n  transition: all 0.25s ease;\r\n  &.expanded {\r\n    animation: ${expandsToDoOuter} 0.25s ease forwards;\r\n  }\r\n  &.compressed {\r\n    animation: ${compressToDoOuter} 0.25s ease forwards;\r\n  }\r\n  h2 {\r\n    text-transform: capitalize;\r\n    font-size: 2em;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nconst mapStateToProps = ({ lists, activeList, user }) => ({\r\n  lists,\r\n  activeList,\r\n  user\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleSelectList(listId) {\r\n    dispatch(selectList(listId));\r\n  },\r\n  handleFetchToDos(userId) {\r\n    dispatch(fetchToDos(userId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ToDosPage);\r\n"]}