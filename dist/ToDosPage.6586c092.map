{"version":3,"sources":["redux\\actionCreators\\fetchToDos.js","redux\\actionCreators\\selectList.js","assets\\helpers.js","redux\\actionCreators\\checkItem.js","redux\\actionCreators\\ignoreReminderItem.js","redux\\actionCreators\\editItemEndDate.js","components\\Notification.jsx","redux\\actionCreators\\editListName.js","redux\\actionCreators\\deleteList.js","components\\basics\\Sort.jsx","hocs\\contentEditable.js","components\\basics\\DivThanInput.jsx","redux\\actionCreators\\deleteItem.js","redux\\actionCreators\\changeItemPriorityColor.js","components\\basics\\PrioritySelector.jsx","components\\basics\\RatioButton.jsx","components\\SingleToDo.jsx","redux\\actionCreators\\addItem.js","components\\AddItem.jsx","components\\ToDos.jsx","redux\\actionCreators\\addList.js","redux\\actionCreators\\changeListColor.js","components\\basics\\ColorSelector.jsx","components\\AddList.jsx","components\\ListsManager.jsx","components\\NoToDos.jsx","components\\ToDosPage.jsx"],"names":["fetchToDos","dispatch","getState","todosRef","on","type","lists","snapshot","val","userId","activeList","selectList","listId","randomId","Math","random","toString","slice","dateTransformation","dateTime","date","Date","toDateString","dateCalendarTransformation","dateYear","getFullYear","dateDate","getDate","dateHours","getHours","dateMinutes","getMinutes","months","Array","dateMonth","getMonth","dateFinal","dateTimeTransformation","dateTransformed","toUTCString","substring","length","currTime","split","toISOString","slugify","text","toLowerCase","replace","checkItem","itemToCheck","updates","databaseRef","child","once","then","checkedStatus","checked","update","ignoreReminderItem","taskId","editItemEndDate","newEndDate","Notification","state","showNotification","item","pageTitle","cleanState","setState","document","title","notificationFirstTime","setTimeout","notificationRun","notificationTimer","setInterval","notificationData","allItems","dateNow","getTime","audio","Audio","notificationSound","map","itemEndDate","end_date","reminder_set","play","task","props","items","allItemsUgly","Object","keys","listKey","isArray","push","itemTiny","filter","ignoreMe","handleComplete","handleCheckItem","id","list_id","handleEditItemEndDate","handleIgnore","handleIgnoreReminderItem","color","React","PureComponent","StyledNotification","colors","light","mainColor","lightGrey","mapStateToProps","mapDispatchToProps","newDate","editListName","newName","deleteList","nextListId","Sort","sortBy","handleSortByChange","e","target","value","StyledSortBy","contentEditable","WrappedComponent","editing","toggleEdit","stopPropagation","cancel","edit","domElm","focus","save","getInputValue","textContent","handleKeyDown","key","dontSaveOnEnter","editOnClick","undefined","domNode","Component","DivThanInput","EditableDiv","StyledEditableDiv","divProps","assign","className","inputPlaceholder","deleteItem","itemToDelete","changeItemPriorityColor","newPriority","PrioritySelector","showChangePriority","priorityColor","low","priorityColors","medium","high","priority","handleChangePriority","handleChangeItemPriorityColor","i","StyledColorList","StyledLabelColor","RatioButton","StyledRatio","secondary","SingleToDo","getClasses","classes","showItem","handleDeleteItem","completeListLayout","bind","showToDoOptionsFunc","itemListDetails","primary","showToDoOptions","StyledLi","StyledTask","StyledTime","addItem","itemToAdd","ignoreMeValue","newItemObject","start_date","AddItem","inputValue","handleSubmit","preventDefault","handleAddItem","handleChange","StyledInput","newItem","loading","LoadableSingleToDoDetails","loader","ToDos","handleEditList","handleEditListName","currentList","alert","handleDeleteList","showDetailsFunc","closeDetails","toggle","showEditListNameFunc","showEditListName","numberOfCheckedItems","checkedItems","name","filterCheckedFunc","filterChecked","showDetails","completeListLayoutNum","detailsTask","StyledTodoHolder","StyledFilterChecked","StyledToDo","toDoWidth","mobileBreakpoint","addList","newList","newColor","newListObject","listColors","creation_date","owner","changeListColor","ColorSelector","showColorSelector","handleColorChange","listColor","backgroundColor","list","StyledImg","ChangeColorIcon","AddList","inputColor","inputNow","clickBehavior","user","uid","handleColorAdd","autoFocus","hideColorSelector","StyledForm","buttonHeight","ListsManager","handleSelectList","sortByCreationDate","listsArray","sort","a","b","handleAddList","StyledUl","StyledList","StyledButton","NoToDos","showAddList","StyledNoToDos","ToDosPage","getCurrentList","currList","itemsArray","hasOwnProperty","itemKey","nameA","nameB","containerHeight","querySelector","clientHeight","itemHeight","maxItems","floor","getNextListIdToShowAfterDeleteCurrentList","listsLength","nextListIndex","indexOf","nextList","detailsTaskId","handleFetchToDos","expandsToDoOuter","keyframes","compressToDoOuter","expandsToDoOuterMobile","compressToDoOuterMobile","StyledContainer"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AN/Pf;;AAEA;;AACA;;;;AAEO,IAAMzC,4BAAU,SAAVA,OAAU,CAACC,OAAD,EAAUC,QAAV,EAAoB/N,MAApB;AAAA;AAAA,uEAA+B,iBAAMR,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAChDW,oBADgD,GACvC,wBADuC;AAEhDuC,qBAFgD,GAEtC,EAFsC;AAGhDsL,2BAHgD,GAGhC;AAClBd,sBAAMY,OADY;AAElBhI,oBAAI3F,MAFc;AAGlBgG,uBAAO8H,yBAAWF,QAAX,CAHW;AAIlBG,+BAAe,wBAJG;AAKlBC,uBAAOnO,UAAU,EALC;AAMlBkF,uBAAO,EAAES,UAAU,EAAEA,UAAU,IAAZ,EAAZ;AANW,eAHgC;;AAWpDjD,iCAAiBvC,MAAjB,IAA6B6N,aAA7B;;AAEArL,oCAAYM,MAAZ,CAAmBP,OAAnB;;AAboD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA/B;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLP;;AAEA;;;;AAEO,IAAM0L,4CAAkB,SAAlBA,eAAkB,CAACjO,MAAD,EAAS4N,QAAT;AAAA;AAAA,uEAAsB,iBAAMvO,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAC/CkD,qBAD+C,GACrC,EADqC;AAE/CyD,mBAF+C,GAEvC8H,yBAAWF,QAAX,CAFuC;;;AAInDrL,iCAAiBvC,MAAjB,eAAmCgG,KAAnC;;AAEAxD,oCAAYM,MAAZ,CAAmBP,OAAnB;;AANmD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAtB;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHP;;;;AACA;;;;AACA;;AAEA;;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","file":"ToDosPage.6586c092.map","sourceRoot":"..\\src","sourcesContent":["import { todosRef } from \"../../config/firebase\";\r\n\r\nexport const fetchToDos = userId => async (dispatch, getState) => {\r\n  todosRef.on(\"value\", snapshot => {\r\n    dispatch({\r\n      type: \"FETCH_TO_DOS\",\r\n      lists: snapshot.val(),\r\n      userId: userId,\r\n      activeList: getState().activeList\r\n    });\r\n  });\r\n};\r\n","export default function selectList(listId) {\r\n  return {\r\n    type: \"CHANGE_ACTIVE_LIST\",\r\n    listId\r\n  };\r\n}\r\n","export const randomId = () =>\r\n  Math.random()\r\n    .toString(36)\r\n    .slice(-10);\r\n\r\nexport const dateTransformation = dateTime => {\r\n  if (dateTime) {\r\n    let date = new Date(dateTime);\r\n    return date.toDateString();\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const dateCalendarTransformation = dateTime => {\r\n  if (dateTime) {\r\n    let date = new Date(dateTime);\r\n    let dateYear = date.getFullYear()\r\n    let dateDate = date.getDate() < 10 ? `0${date.getDate()}` : date.getDate();\r\n    let dateHours = date.getHours() < 10 ? `0${date.getHours()}` : date.getHours();\r\n    let dateMinutes = date.getMinutes() < 10 ? `0${date.getMinutes()}` : date.getMinutes();\r\n\r\n    let months = new Array();\r\n    months[0] = \"Jan\";\r\n    months[1] = \"Feb\";\r\n    months[2] = \"Mar\";\r\n    months[3] = \"Apr\";\r\n    months[4] = \"May\";\r\n    months[5] = \"Jun\";\r\n    months[6] = \"Jul\";\r\n    months[7] = \"Aug\";\r\n    months[8] = \"Sep\";\r\n    months[9] = \"Oct\";\r\n    months[10] = \"Nov\";\r\n    months[11] = \"Dec\";\r\n    let dateMonth = months[date.getMonth()];\r\n\r\n    let dateFinal = `${dateDate}/${dateMonth}/${dateYear} ${dateHours}:${dateMinutes}`\r\n\r\n    return dateFinal;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const dateTimeTransformation = dateTime => {\r\n  if (dateTime) {\r\n    let date = new Date(dateTime);\r\n    let dateTransformed = date.toUTCString();\r\n    return dateTransformed.substring(0, dateTransformed.length - 7);\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const currTime = () =>\r\n  new Date(new Date().toString().split(\"GMT\")[0] + \" UTC\")\r\n    .toISOString()\r\n    .split(\".\")[0];\r\n\r\nexport const slugify = text =>\r\n  text\r\n    .toString()\r\n    .toLowerCase()\r\n    .replace(/\\s+/g, \"-\")\r\n    .replace(/[^\\w-]+/g, \"\")\r\n    .replace(/--+/g, \"-\")\r\n    .replace(/^-+/, \"\")\r\n    .replace(/-+$/, \"\");\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nexport const checkItem = (itemToCheck, listId) => async dispatch => {\r\n  let updates = {};\r\n\r\n  databaseRef\r\n    .child(`lists/${listId}/items/${itemToCheck}`)\r\n    .once(\"value\")\r\n    .then(function(snapshot) {\r\n      let checkedStatus = snapshot.val() && snapshot.val().checked;\r\n\r\n      updates[`lists/${listId}/items/${itemToCheck}/checked`] = !checkedStatus;\r\n      updates[`lists/${listId}/items/${itemToCheck}/reminder_set`] = false;\r\n      databaseRef.update(updates);\r\n    });\r\n};\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nexport const ignoreReminderItem = (taskId, listId) => async dispatch => {\r\n  let updates = {};\r\n\r\n  updates[`lists/${listId}/items/${taskId}/reminder_set`] = false;\r\n\r\n  databaseRef.update(updates);\r\n};\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nexport const editItemEndDate = (\r\n  listId,\r\n  taskId,\r\n  newEndDate\r\n) => async dispatch => {\r\n  let updates = {};\r\n\r\n  updates[`lists/${listId}/items/${taskId}/end_date`] = newEndDate;\r\n  updates[`lists/${listId}/items/${taskId}/reminder_set`] = true;\r\n\r\n  databaseRef.update(updates);\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { colors } from \"../assets/globalStyles\";\r\n\r\nimport notificationSound from \"../assets/audio/notification.mp3\";\r\n\r\nimport { currTime, dateTimeTransformation } from \"../assets/helpers\";\r\n\r\nimport { checkItem } from \"../redux/actionCreators/checkItem\";\r\nimport { ignoreReminderItem } from \"../redux/actionCreators/ignoreReminderItem\";\r\nimport { editItemEndDate } from \"../redux/actionCreators/editItemEndDate\";\r\n\r\nimport { Button } from \"./basics/Button\";\r\n\r\nclass Notification extends React.PureComponent {\r\n  state = {\r\n    showNotification: false,\r\n    item: {},\r\n    pageTitle: \"Remind me...\"\r\n  };\r\n\r\n  cleanState = () => {\r\n    this.setState(\r\n      {\r\n        showNotification: false,\r\n        item: {},\r\n        pageTitle: \"Remind me...\"\r\n      },\r\n      () => {\r\n        document.title = this.state.pageTitle;\r\n      }\r\n    );\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.notificationFirstTime();\r\n    this.notificationTimer();\r\n  }\r\n\r\n  notificationFirstTime = () => {\r\n    setTimeout(() => {\r\n      this.notificationRun();\r\n    }, 1000);\r\n  };\r\n\r\n  notificationTimer = () => {\r\n    setInterval(() => {\r\n      this.notificationRun();\r\n    }, 60 * 1000);\r\n  };\r\n\r\n  notificationRun = () => {\r\n    let notificationData = this.allItems();\r\n    let dateNow = new Date(currTime()).getTime();\r\n    const audio = new Audio(notificationSound);\r\n    notificationData.map(item => {\r\n      let itemEndDate = new Date(item.end_date).getTime();\r\n      if (item.reminder_set) {\r\n        if (dateNow >= itemEndDate) {\r\n          if (!this.state.showNotification) {\r\n            audio.play();\r\n          }\r\n          this.setState(\r\n            {\r\n              showNotification: true,\r\n              item,\r\n              pageTitle: `Reminder: ${item.task}`\r\n            },\r\n            () => {\r\n              document.title = this.state.pageTitle;\r\n            }\r\n          );\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  allItems = () => {\r\n    let lists = { ...this.props.lists };\r\n    let items = [];\r\n    let allItemsUgly = [];\r\n    if (\r\n      this.props.lists != \"loading\" &&\r\n      Object.keys(this.props.lists).length > 0\r\n    ) {\r\n      allItemsUgly = Object.keys(lists).map(listKey => lists[listKey].items);\r\n      allItemsUgly.map(item => {\r\n        if (typeof item === \"object\" && !Array.isArray(item)) {\r\n          Object.keys(item).map(itemTiny => items.push(item[itemTiny]));\r\n        } else {\r\n          item.map(itemTiny => items.push(itemTiny));\r\n        }\r\n      });\r\n\r\n      items = items.filter(item => !item.ignoreMe);\r\n\r\n      return items;\r\n    }\r\n  };\r\n\r\n  handleComplete = () => {\r\n    this.cleanState();\r\n\r\n    this.props.handleCheckItem(this.state.item.id, this.state.item.list_id);\r\n    this.props.handleEditItemEndDate(\r\n      this.state.item.list_id,\r\n      this.state.item.id,\r\n      \"\"\r\n    );\r\n  };\r\n  handleIgnore = () => {\r\n    this.cleanState();\r\n    this.props.handleIgnoreReminderItem(\r\n      this.state.item.id,\r\n      this.state.item.list_id\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.showNotification ? (\r\n          <StyledNotification\r\n            mainColor={this.props.lists[this.state.item.list_id].color}\r\n          >\r\n            <h1>{this.state.item.task}</h1>\r\n            <span>{dateTimeTransformation(this.state.item.end_date)}</span>\r\n            <Button\r\n              primary\r\n              clickBehavior={() => this.handleComplete()}\r\n              text={\"Complete\"}\r\n            />\r\n            <Button\r\n              clickBehavior={() => this.handleIgnore()}\r\n              text={\"Ignore for now\"}\r\n            />\r\n          </StyledNotification>\r\n        ) : null}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledNotification = styled(\"header\")`\r\n  background: ${colors.light};\r\n  border-bottom: 3px solid ${props => props.mainColor};\r\n  position: fixed;\r\n  right: 0;\r\n  top: 10%;\r\n  width: 350px;\r\n  z-index: 10;\r\n  padding: 20px;\r\n  h1 {\r\n    font-size: 17px;\r\n    color: ${props => props.mainColor};\r\n    margin-bottom: 5px;\r\n  }\r\n  span {\r\n    display: block;\r\n    margin-bottom: 10px;\r\n    color: ${colors.lightGrey};\r\n  }\r\n  button {\r\n    display: inline-block;\r\n  }\r\n  button + button {\r\n    margin-left: 25px;\r\n  }\r\n`;\r\n\r\nfunction mapStateToProps({ lists }) {\r\n  return { lists };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleCheckItem(itemToCheck, listId) {\r\n    dispatch(checkItem(itemToCheck, listId));\r\n  },\r\n  handleIgnoreReminderItem(itemToCheck, listId) {\r\n    dispatch(ignoreReminderItem(itemToCheck, listId));\r\n  },\r\n  handleEditItemEndDate(listId, taskId, newDate) {\r\n    dispatch(editItemEndDate(listId, taskId, newDate));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Notification);\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nexport const editListName = (listId, newName) => async dispatch => {\r\n  let updates = {};\r\n\r\n  updates[`lists/${listId}/name`] = newName;\r\n  databaseRef.update(updates);\r\n};\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nexport const deleteList = (listId, nextListId) => async dispatch => {\r\n  let updates = {};\r\n  updates[`lists/${listId}`] = null;\r\n  databaseRef.update(updates);\r\n\r\n  return {\r\n    type: \"DELETE_LIST\",\r\n    nextListId\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { lighten } from \"polished\";\r\n\r\nimport { colors } from \"../../assets/globalStyles\";\r\n\r\nexport default class Sort extends React.PureComponent {\r\n  render() {\r\n    return (\r\n      <StyledSortBy>\r\n        <span>Sort by: </span>\r\n        <select\r\n          value={this.props.sortBy}\r\n          onChange={e => this.props.handleSortByChange(e.target.value)}\r\n        >\r\n          <option value=\"most-important\">Most Important</option>\r\n          <option value=\"alphabetically-a-z\">Alphabetically (A-Z)</option>\r\n          <option value=\"alphabetically-z-a\">Alphabetically (Z-A)</option>\r\n          <option value=\"newest\">Newest</option>\r\n          <option value=\"oldest\">Oldest</option>\r\n        </select>\r\n      </StyledSortBy>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledSortBy = styled(\"div\")`\r\n  float: right;\r\n  margin-top: 10px;\r\n  span {\r\n    font-size: 1.1em;\r\n  }\r\n  select {\r\n    border: 1px solid ${lighten(0.15, colors.lightGrey)};\r\n    padding: 7px 2px;\r\n    margin-left: 5px;\r\n  }\r\n`;\r\n","/* eslint-disable react/display-name */\r\nimport React from \"react\";\r\n\r\nexport default function contentEditable(WrappedComponent) {\r\n  return class extends React.Component {\r\n    state = {\r\n      editing: false\r\n    };\r\n\r\n    toggleEdit = e => {\r\n      e.stopPropagation();\r\n      if (this.state.editing) {\r\n        this.cancel();\r\n      } else {\r\n        this.edit();\r\n      }\r\n    };\r\n\r\n    edit = () => {\r\n      this.setState(\r\n        {\r\n          editing: true\r\n        },\r\n        () => {\r\n          this.domElm.focus();\r\n        }\r\n      );\r\n    };\r\n\r\n    save = () => {\r\n      this.setState({ editing: false }, () => {\r\n        this.props.getInputValue(this.domElm.textContent);\r\n      });\r\n    };\r\n\r\n    cancel = () => {\r\n      this.setState({\r\n        editing: false\r\n      });\r\n    };\r\n\r\n    handleKeyDown = e => {\r\n      const { key } = e;\r\n      const { dontSaveOnEnter } = this.props;\r\n      if (dontSaveOnEnter) {\r\n        switch (key) {\r\n          case \"Escape\":\r\n            this.save();\r\n            break;\r\n        }\r\n      } else {\r\n        switch (key) {\r\n          case \"Enter\":\r\n          case \"Escape\":\r\n            this.save();\r\n            break;\r\n        }\r\n      }\r\n    };\r\n\r\n    render() {\r\n      let editOnClick = true;\r\n      const { editing } = this.state;\r\n      if (this.props.editOnClick !== undefined) {\r\n        editOnClick = this.props.editOnClick;\r\n      }\r\n      return (\r\n        <WrappedComponent\r\n          suppressContentEditableWarning={true}\r\n          className={editing ? \"editing\" : \"\"}\r\n          onClick={editOnClick ? this.toggleEdit : undefined}\r\n          contentEditable={editing}\r\n          ref={domNode => {\r\n            this.domElm = domNode;\r\n          }}\r\n          onBlur={this.save}\r\n          onKeyDown={this.handleKeyDown}\r\n          {...this.props}\r\n        >\r\n          {this.props.value}\r\n        </WrappedComponent>\r\n      );\r\n    }\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport contentEditable from \"../../hocs/contentEditable\";\r\n\r\nexport default class DivThanInput extends React.PureComponent {\r\n  render() {\r\n    let EditableDiv = contentEditable(StyledEditableDiv);\r\n    const divProps = Object.assign({}, this.props);\r\n    return (\r\n      <EditableDiv\r\n        className={this.props.className}\r\n        maxLength=\"35\"\r\n        type=\"text\"\r\n        placeholder={this.props.inputPlaceholder}\r\n        value={this.props.value}\r\n        {...divProps}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledEditableDiv = styled(\"div\")`\r\n  cursor: text;\r\n`;\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nexport const deleteItem = (itemToDelete, listId) => async dispatch => {\r\n  let updates = {};\r\n  updates[`lists/${listId}/items/${itemToDelete}`] = null;\r\n\r\n  databaseRef.update(updates);\r\n};\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nexport const changeItemPriorityColor = (\r\n  listId,\r\n  taskId,\r\n  newPriority\r\n) => async dispatch => {\r\n  let updates = {};\r\n\r\n  updates[`lists/${listId}/items/${taskId}/priority`] = newPriority;\r\n\r\n  databaseRef.update(updates);\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { lighten, darken } from \"polished\";\r\n\r\nimport { priorityColors, colors } from \"../../assets/globalStyles\";\r\n\r\nimport { Button } from \"./Button.jsx\";\r\n\r\nclass PrioritySelector extends React.PureComponent {\r\n  state = {\r\n    showChangePriority: false\r\n  };\r\n\r\n  priorityColor = () => {\r\n    let low = priorityColors.low;\r\n    let medium = priorityColors.medium;\r\n    let high = priorityColors.high;\r\n    let { priority } = this.props;\r\n\r\n    if (priority === 1) {\r\n      return low;\r\n    } else if (priority === 2) {\r\n      return medium;\r\n    } else {\r\n      return high;\r\n    }\r\n  };\r\n\r\n  handleChangePriority = (listId, taskId, newPriority) => {\r\n    if (newPriority === \"low\") {\r\n      newPriority = 1;\r\n    } else if (newPriority === \"medium\") {\r\n      newPriority = 2;\r\n    } else {\r\n      newPriority = 3;\r\n    }\r\n    this.props.handleChangeItemPriorityColor(listId, taskId, newPriority);\r\n    this.setState({\r\n      showChangePriority: false\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <span className=\"priority\">\r\n          <Button\r\n            icon=\"priority\"\r\n            clickBehavior={() => this.setState({ showChangePriority: true })}\r\n            text=\"Priority\"\r\n            mainColor={this.priorityColor()}\r\n          />\r\n        </span>\r\n        {this.state.showChangePriority && (\r\n          <StyledColorList>\r\n            {Object.keys(priorityColors).map((priorityColor, i) => (\r\n              <StyledLabelColor\r\n                key={i}\r\n                mainColor={priorityColors[priorityColor]}\r\n                onClick={() =>\r\n                  this.handleChangePriority(\r\n                    this.props.listId,\r\n                    this.props.taskId,\r\n                    priorityColor\r\n                  )\r\n                }\r\n              >\r\n                {priorityColor}\r\n              </StyledLabelColor>\r\n            ))}\r\n          </StyledColorList>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledColorList = styled(\"ul\")`\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 80px;\r\n  width: 240px;\r\n  border-radius: 3px;\r\n  box-shadow: 1px 1px 4px ${colors.lightGrey};\r\n  background: ${lighten(0.025, colors.light)};\r\n  padding: 10px;\r\n`;\r\n\r\nconst StyledLabelColor = styled(\"li\")`\r\n  cursor: pointer;\r\n  background: ${props => props.mainColor};\r\n  border-bottom: 2px solid ${props => darken(0.2, props.mainColor)};\r\n  width: 70px;\r\n  text-align: center;\r\n  display: inline-block;\r\n  padding: 10px 0;\r\n  color: white;\r\n  &:not(:first-child) {\r\n    margin-left: 5px;\r\n  }\r\n`;\r\n\r\nexport default PrioritySelector;\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { lighten } from \"polished\";\r\n\r\nimport { colors } from \"../../assets/globalStyles\";\r\n\r\nimport { checkItem } from \"../../redux/actionCreators/checkItem\";\r\n\r\nconst RatioButton = props => (\r\n  <StyledRatio\r\n    mainColor={props.mainColor}\r\n    className={props.checked ? \"checked\" : \"not-checked\"}\r\n  >\r\n    <input type=\"checkbox\" id={`checkbox${props.taskId}`} />\r\n    <label\r\n      htmlFor={`checkbox${props.taskId}`}\r\n      onClick={() => props.handleCheckItem(props.taskId, props.listId)}\r\n    />\r\n  </StyledRatio>\r\n);\r\n\r\n// styled components\r\nconst StyledRatio = styled(\"div\")`\r\n  display: table-cell;\r\n  vertical-align: middle;\r\n  width: 20px;\r\n  height: 20px;\r\n  label {\r\n    width: 20px;\r\n    height: 20px;\r\n    background-color: ${colors.light};\r\n    border: 1px solid ${colors.lightGrey};\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    left: 0;\r\n    position: relative;\r\n    display: block;\r\n    transition: 0.25s all ease;\r\n    &:hover {\r\n      background-color: ${lighten(0.3, colors.secondary)};\r\n      border: 1px solid ${colors.secondary};\r\n    }\r\n    &:after {\r\n      border: 5px solid ${props => props.mainColor};\r\n      border-top: none;\r\n      border-right: none;\r\n      content: \"\";\r\n      height: 6px;\r\n      top: -1px;\r\n      left: 1px;\r\n      opacity: 0;\r\n      position: absolute;\r\n      transform: rotate(-45deg);\r\n      width: 16px;\r\n    }\r\n  }\r\n  input[type=\"checkbox\"] {\r\n    width: 1px;\r\n    height: 1px;\r\n    visibility: hidden;\r\n    position: absolute;\r\n  }\r\n  &.checked {\r\n    label {\r\n      background-color: white;\r\n      border-color: ${props => lighten(0.1, props.mainColor)};\r\n      &:after {\r\n        opacity: 1;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleCheckItem(itemToCheck, listId) {\r\n    dispatch(checkItem(itemToCheck, listId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(RatioButton);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { dateTimeTransformation } from \"../assets/helpers\";\r\n\r\nimport { deleteItem } from \"../redux/actionCreators/deleteItem\";\r\nimport { changeItemPriorityColor } from \"../redux/actionCreators/changeItemPriorityColor\";\r\n\r\nimport BellIcon from \"../assets/icons/bell.svg\";\r\n\r\nimport PrioritySelector from \"./basics/PrioritySelector\";\r\nimport RatioButton from \"./basics/RatioButton\";\r\nimport { Button } from \"./basics/Button\";\r\nimport { colors } from \"../assets/globalStyles\";\r\n\r\nclass SingleToDo extends React.PureComponent {\r\n  getClasses = () => {\r\n    let classes = \"\";\r\n    if (this.props.task.checked) {\r\n      if (this.props.showItem) {\r\n        classes = \"checked show\";\r\n      } else {\r\n        classes = \"checked hide\";\r\n      }\r\n    } else {\r\n      classes = \"not-checked show\";\r\n    }\r\n    return classes;\r\n  };\r\n\r\n  deleteItem = (itemToDelete, listId) => {\r\n    this.props.handleDeleteItem(itemToDelete, listId);\r\n    setTimeout(\r\n      function() {\r\n        this.props.completeListLayout();\r\n      }.bind(this),\r\n      0\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <StyledLi\r\n          id=\"single-to-do\"\r\n          className={this.getClasses()}\r\n          onMouseEnter={() =>\r\n            this.props.showToDoOptionsFunc(this.props.task.id, true)\r\n          }\r\n          onMouseLeave={() =>\r\n            this.props.showToDoOptionsFunc(this.props.task.id, false)\r\n          }\r\n        >\r\n          <div>\r\n            <RatioButton\r\n              checked={this.props.task.checked}\r\n              taskId={this.props.task.id}\r\n              mainColor={this.props.mainColor}\r\n              listId={this.props.listId}\r\n            />\r\n            <StyledTask\r\n              role=\"button\"\r\n              onKeyPress={() => this.props.itemListDetails(this.props.task)}\r\n              onClick={() => this.props.itemListDetails(this.props.task)}\r\n              tabIndex=\"0\"\r\n            >\r\n              {this.props.task.task}\r\n              {this.props.task.end_date != \"\" && (\r\n                <StyledTime\r\n                  mainColor={\r\n                    this.props.task.reminder_set\r\n                      ? colors.primary\r\n                      : colors.lightGrey\r\n                  }\r\n                >\r\n                  <BellIcon />\r\n                  {dateTimeTransformation(this.props.task.end_date)}\r\n                </StyledTime>\r\n              )}\r\n            </StyledTask>\r\n            <PrioritySelector\r\n              handleChangeItemPriorityColor={\r\n                this.props.handleChangeItemPriorityColor\r\n              }\r\n              priority={this.props.task.priority}\r\n              listId={this.props.listId}\r\n              taskId={this.props.task.id}\r\n            />\r\n            {this.props.showToDoOptions && (\r\n              <span>\r\n                <Button\r\n                  icon=\"delete\"\r\n                  clickBehavior={() =>\r\n                    this.deleteItem(this.props.task.id, this.props.listId)\r\n                  }\r\n                  text=\"Delete\"\r\n                />\r\n              </span>\r\n            )}\r\n          </div>\r\n        </StyledLi>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledLi = styled(\"li\")`\r\n  position: relative;\r\n  padding: 15px 20px;\r\n  text-align: left;\r\n  > div {\r\n    width: 100%;\r\n  }\r\n  div {\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    transition: 0.25s all ease;\r\n    vertical-align: top;\r\n    cursor: pointer;\r\n  }\r\n  span {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    &.priority {\r\n      right: 40px;\r\n    }\r\n  }\r\n  &.checked {\r\n    div {\r\n      text-decoration: line-through;\r\n      opacity: 0.5;\r\n    }\r\n  }\r\n  &.hide {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst StyledTask = styled(\"div\")`\r\n  width: calc(100% - 90px);\r\n  padding-left: 15px;\r\n  vertical-align: middle !important;\r\n`;\r\n\r\nconst StyledTime = styled(\"span\")`\r\n  position: relative !important;\r\n  display: block;\r\n  font-size: 0.8em;\r\n  margin-top: 6px;\r\n  color: ${props => props.mainColor};\r\n  svg {\r\n    width: 16px;\r\n    stroke-width: 13px;\r\n    stroke: ${props => props.mainColor};\r\n    fill: ${props => props.mainColor};\r\n    margin-bottom: -3px;\r\n    margin-right: 5px;\r\n  }\r\n`;\r\n\r\nconst mapStateToProps = ({ lists }) => ({\r\n  lists\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleDeleteItem(itemToDelete, listId) {\r\n    dispatch(deleteItem(itemToDelete, listId));\r\n  },\r\n  handleChangeItemPriorityColor(listId, taskId, newPriority) {\r\n    dispatch(changeItemPriorityColor(listId, taskId, newPriority));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SingleToDo);\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nimport { randomId, currTime } from \"../../assets/helpers\";\r\n\r\nexport const addItem = (itemToAdd, listId) => async dispatch => {\r\n  let updates = {};\r\n  let taskId = randomId();\r\n\r\n  databaseRef\r\n    .child(`lists/${listId}/items/`)\r\n    .once(\"value\")\r\n    .then(function(snapshot) {\r\n      let ignoreMeValue = snapshot.val() && snapshot.val().ignoreMe;\r\n      if (ignoreMeValue != undefined) {\r\n        updates[`lists/${listId}/items/ignoreMe`] = null;\r\n      }\r\n\r\n      let newItemObject = {\r\n        id: taskId,\r\n        task: itemToAdd,\r\n        start_date: currTime(),\r\n        end_date: \"\",\r\n        reminder_set: false,\r\n        checked: false,\r\n        priority: 1,\r\n        list_id: listId\r\n      };\r\n\r\n      updates[`lists/${listId}/items/${taskId}`] = newItemObject;\r\n\r\n      databaseRef.update(updates);\r\n    });\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { addItem } from \"../redux/actionCreators/addItem\";\r\n\r\nclass AddItem extends React.PureComponent {\r\n  state = {\r\n    inputValue: \"\"\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.inputValue != \"\" && this.state.inputValue.length > 3) {\r\n      this.props.handleAddItem(this.state.inputValue, this.props.listId);\r\n      setTimeout(\r\n        function() {\r\n          this.props.completeListLayout();\r\n        }.bind(this),\r\n        0\r\n      );\r\n      this.setState({ inputValue: \"\" });\r\n    }\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={e => this.handleSubmit(e)}>\r\n        <StyledInput\r\n          maxLength=\"35\"\r\n          type=\"text\"\r\n          placeholder=\"Insert new item\"\r\n          value={this.state.inputValue}\r\n          onChange={e => this.handleChange(e)}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledInput = styled(\"input\")`\r\n  position: relative;\r\n  text-align: left;\r\n  margin-left: 53px;\r\n  width: 60%;\r\n  margin-bottom: 5px;\r\n  border: 0;\r\n  background: transparent;\r\n  padding: 20px 0;\r\n`;\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleAddItem(newItem, listId) {\r\n    dispatch(addItem(newItem, listId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(AddItem);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { lighten, darken } from \"polished\";\r\nimport Loadable from \"react-loadable\";\r\n\r\nimport { colors, mobileBreakpoint } from \"../assets/globalStyles\";\r\n\r\nimport { editListName } from \"../redux/actionCreators/editListName\";\r\nimport { deleteList } from \"../redux/actionCreators/deleteList\";\r\n\r\nimport Loading from \"./basics/Loading\";\r\nimport Sort from \"./basics/Sort\";\r\nimport { Button } from \"./basics/Button\";\r\nimport DivThanInput from \"./basics/DivThanInput\";\r\nimport SingleToDo from \"./SingleToDo\";\r\nimport AddItem from \"./AddItem\";\r\n\r\nconst loading = () => <Loading />;\r\n\r\nconst LoadableSingleToDoDetails = Loadable({\r\n  loader: () => import(\"./SingleToDoDetails\"),\r\n  loading\r\n});\r\n\r\nclass ToDos extends React.PureComponent {\r\n  state = {\r\n    showToDoOptions: false\r\n  };\r\n\r\n  handleEditList = inputValue => {\r\n    if (inputValue.length > 3) {\r\n      this.props.handleEditListName(this.props.currentList.id, inputValue);\r\n    } else {\r\n      alert(\"List name should be longer than 3 letters\");\r\n    }\r\n  };\r\n\r\n  deleteList = () => {\r\n    this.props.handleDeleteList(\r\n      this.props.currentList.id,\r\n      this.props.nextListId\r\n    );\r\n  };\r\n\r\n  itemListDetails = task => {\r\n    this.props.showDetailsFunc(true, task.id);\r\n  };\r\n\r\n  closeDetails = () => {\r\n    this.props.showDetailsFunc(false, {});\r\n  };\r\n\r\n  showToDoOptionsFunc = (taskId, toggle) => {\r\n    this.setState({ showToDoOptions: `${toggle},${taskId}` });\r\n  };\r\n\r\n  showEditListNameFunc = () => {\r\n    this.setState({ showEditListName: true });\r\n  };\r\n\r\n  numberOfCheckedItems = () => {\r\n    let checkedItems = this.props.currentList.items.filter(\r\n      item => item.checked\r\n    );\r\n    return checkedItems.length;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <StyledEditableDiv\r\n          className={this.props.className}\r\n          value={this.props.currentList.name}\r\n          getInputValue={this.handleEditList}\r\n          inputPlaceholder=\"List name\"\r\n        />\r\n        <Button\r\n          icon=\"delete\"\r\n          clickBehavior={() => this.deleteList()}\r\n          text=\"Delete\"\r\n        />\r\n        <Sort\r\n          sortBy={this.props.sortBy}\r\n          handleSortByChange={this.props.handleSortByChange}\r\n        />\r\n        <StyledTodoHolder>\r\n          <StyledFilterChecked onClick={() => this.props.filterCheckedFunc()}>\r\n            {this.props.filterChecked\r\n              ? `Show checked items - (${this.numberOfCheckedItems()})`\r\n              : `Hide checked items - (${this.numberOfCheckedItems()})`}\r\n          </StyledFilterChecked>\r\n          <StyledToDo\r\n            id=\"to-dos\"\r\n            mainColor={this.props.currentList.color}\r\n            toDoWidth={this.props.showDetails ? \"55%\" : \"100%\"}\r\n          >\r\n            <ul>\r\n              {this.props.currentList.items.map(task => (\r\n                <SingleToDo\r\n                  key={task.id}\r\n                  task={task}\r\n                  itemListDetails={this.itemListDetails}\r\n                  mainColor={this.props.currentList.color}\r\n                  showToDoOptionsFunc={this.showToDoOptionsFunc}\r\n                  showToDoOptions={\r\n                    `true,${task.id}` === this.state.showToDoOptions &&\r\n                    this.state.showToDoOptions\r\n                  }\r\n                  listId={this.props.currentList.id}\r\n                  completeListLayout={this.props.completeListLayout}\r\n                  showItem={this.props.filterChecked ? false : true}\r\n                />\r\n              ))}\r\n              <AddItem\r\n                addItem={this.props.addItem}\r\n                listId={this.props.currentList.id}\r\n                completeListLayout={this.props.completeListLayout}\r\n              />\r\n              {[...Array(this.props.completeListLayoutNum)].map((e, i) => (\r\n                <li key={i} className={i === 0 ? \"fake first-fake\" : \"fake\"} />\r\n              ))}\r\n            </ul>\r\n          </StyledToDo>\r\n          {this.props.showDetails && (\r\n            <LoadableSingleToDoDetails\r\n              task={this.props.detailsTask}\r\n              showDetailsFunc={this.props.showDetailsFunc}\r\n              mainColor={this.props.currentList.color}\r\n              closeDetails={this.closeDetails}\r\n              showToDoOptionsFunc={this.showToDoOptionsFunc}\r\n              itemListDetails={this.itemListDetails}\r\n              listId={this.props.currentList.id}\r\n              completeListLayout={this.props.completeListLayout}\r\n            />\r\n          )}\r\n        </StyledTodoHolder>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledTodoHolder = styled(\"div\")`\r\n  display: block;\r\n  position: relative;\r\n  margin-bottom: 4vh;\r\n`;\r\n\r\nconst StyledFilterChecked = styled(\"div\")`\r\n  width: 100%;\r\n  display: block;\r\n  padding: 12px 40px;\r\n  background: ${colors.light};\r\n  cursor: pointer;\r\n  transition: all 0.25s ease;\r\n  &:hover {\r\n    background: ${darken(0.02, colors.light)};\r\n  }\r\n`;\r\n\r\nconst StyledEditableDiv = styled(DivThanInput)`\r\n  display: inline-block;\r\n  width: 250px;\r\n  font-size: 2em;\r\n  text-transform: capitalize;\r\n  border-bottom: 1px solid white;\r\n  transition: all 0.25s ease;\r\n  &:hover,\r\n  &:focus {\r\n    border-bottom: 1px solid ${colors.lightGrey};\r\n  }\r\n`;\r\n\r\nconst StyledToDo = styled(\"div\")`\r\n  padding: 0 20px;\r\n  border-radius: 3px;\r\n  box-shadow: 1px 1px 4px ${colors.lightGrey};\r\n  background: ${lighten(0.025, colors.light)};\r\n  height: 55vh;\r\n  overflow-x: auto;\r\n  width: ${props => props.toDoWidth};\r\n  @media (${mobileBreakpoint}){\r\n    width: 100%;\r\n  }\r\n  &::-webkit-scrollbar-track {\r\n    background-color: ${props => lighten(0.5, props.mainColor)};\r\n  }\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n    background-color: ${props => lighten(0.5, props.mainColor)};\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: ${props => props.mainColor};\r\n  }\r\n  > ul > li {\r\n    position: relative;\r\n    border-bottom: 1px solid ${lighten(0.2, colors.lightGrey)};\r\n    &.fake {\r\n      height: 77px;\r\n      &.first-fake {\r\n        border-top: 1px solid ${lighten(0.2, colors.lightGrey)};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst mapStateToProps = ({ lists }) => ({\r\n  lists\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleEditListName(listId, newName) {\r\n    dispatch(editListName(listId, newName));\r\n  },\r\n  handleDeleteList(listId, nextListId) {\r\n    dispatch(deleteList(listId, nextListId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ToDos);\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nimport { randomId, currTime } from \"../../assets/helpers\";\r\nimport { listColors } from \"../../assets/globalStyles\";\r\n\r\nexport const addList = (newList, newColor, userId) => async dispatch => {\r\n  let listId = randomId();\r\n  let updates = {};\r\n  let newListObject = {\r\n    name: newList,\r\n    id: listId,\r\n    color: listColors[newColor],\r\n    creation_date: currTime(),\r\n    owner: userId || \"\",\r\n    items: { ignoreMe: { ignoreMe: true } }\r\n  };\r\n  updates[`lists/${listId}`] = newListObject;\r\n\r\n  databaseRef.update(updates);\r\n};\r\n","import { databaseRef } from \"../../config/firebase\";\r\n\r\nimport { listColors } from \"../../assets/globalStyles\";\r\n\r\nexport const changeListColor = (listId, newColor) => async dispatch => {\r\n  let updates = {};\r\n  let color = listColors[newColor];\r\n\r\n  updates[`lists/${listId}/color`] = color;\r\n\r\n  databaseRef.update(updates);\r\n};\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { lighten } from \"polished\";\r\n\r\nimport { listColors, colors } from \"../../assets/globalStyles\";\r\nimport ChangeColorIcon from \"../../assets/icons/paint-board-and-brush.svg\";\r\n\r\nclass ColorSelector extends React.PureComponent {\r\n  state = {\r\n    showColorSelector: false\r\n  };\r\n\r\n  handleColorChange = (listId, listColor) => {\r\n    this.props.handleColorChange(listId, listColor);\r\n    this.setState({\r\n      showColorSelector: !this.state.showColorSelector\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <StyledImg\r\n          alt=\"change color\"\r\n          role=\"button\"\r\n          onKeyPress={() =>\r\n            this.setState({\r\n              showColorSelector: !this.state.showColorSelector\r\n            })\r\n          }\r\n          onClick={() =>\r\n            this.setState({\r\n              showColorSelector: !this.state.showColorSelector\r\n            })\r\n          }\r\n          tabIndex=\"0\"\r\n        />\r\n        {this.state.showColorSelector && (\r\n          <StyledColorList>\r\n            {Object.keys(listColors).map((listColor, i) => (\r\n              <StyledLabelColor\r\n                key={i}\r\n                style={{ backgroundColor: listColors[listColor] }}\r\n                onClick={() =>\r\n                  this.handleColorChange(this.props.list.id, listColor)\r\n                }\r\n              />\r\n            ))}\r\n          </StyledColorList>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledImg = styled(ChangeColorIcon)`\r\n  cursor: pointer;\r\n  width: 20px;\r\n  display: inline-block;\r\n  margin-bottom: -6px;\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst StyledColorList = styled(\"ul\")`\r\n  position: absolute;\r\n  bottom: 20px;\r\n  z-index: 9999;\r\n  left: 0;\r\n  border-radius: 3px;\r\n  box-shadow: 1px 1px 4px ${colors.lightGrey};\r\n  background: ${lighten(0.025, colors.light)};\r\n  padding: 10px;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledLabelColor = styled(\"li\")`\r\n  cursor: pointer;\r\n  height: 30px;\r\n  width: 30px;\r\n  display: inline-block;\r\n  &:not(:first-child) {\r\n    margin-left: 2%;\r\n  }\r\n`;\r\n\r\nexport default ColorSelector;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { listColors } from \"../assets/globalStyles\";\r\n\r\nimport { Button } from \"./basics/Button\";\r\nimport ColorSelector from \"./basics/ColorSelector\";\r\n\r\nclass AddList extends React.PureComponent {\r\n  state = {\r\n    inputValue: \"\",\r\n    inputColor: \"lightGrey\"\r\n  };\r\n\r\n  handleChange = e => {\r\n    let inputNow = e.target.value;\r\n    this.setState({ inputValue: inputNow });\r\n  };\r\n\r\n  clickBehavior = e => {\r\n    e.preventDefault();\r\n    if (this.state.inputValue != \"\" && this.state.inputValue.length > 3) {\r\n      this.props.clickBehavior(\r\n        this.state.inputValue,\r\n        this.state.inputColor,\r\n        this.props.user.uid\r\n      );\r\n      this.setState({ inputValue: \"\", inputColor: \"lightGrey\" });\r\n    }\r\n  };\r\n\r\n  handleColorAdd = (list, color) => {\r\n    this.setState({ inputColor: color });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <StyledForm\r\n          mainColor={listColors[this.state.inputColor]}\r\n          buttonHeight={this.state.inputValue === \"\" ? \"7px\" : \"40px\"}\r\n        >\r\n          <div className=\"input-holder\">\r\n            <input\r\n              autoFocus={this.props.autoFocus ? true : false}\r\n              type=\"text\"\r\n              placeholder=\"Create new list\"\r\n              value={this.state.inputValue}\r\n              onChange={e => this.handleChange(e)}\r\n            />\r\n            {!this.props.hideColorSelector && (\r\n              <ColorSelector handleColorChange={this.handleColorAdd} />\r\n            )}\r\n          </div>\r\n          <Button\r\n            style={{ backgroundColor: \"blue\" }}\r\n            clickBehavior={e => this.clickBehavior(e)}\r\n            text={this.props.text}\r\n          />\r\n        </StyledForm>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledForm = styled(\"form\")`\r\n  display: inline-block;\r\n  position: relative;\r\n  vertical-align: top;\r\n  margin-left: 2%;\r\n  .input-holder {\r\n    border-radius: 3px 3px 0 0;\r\n    padding: 12px 0 10px;\r\n    max-width: 160px;\r\n    input {\r\n      border: 0;\r\n      font-size: 1.2em;\r\n      width: calc(100% - 40px);\r\n      display: inline-block;\r\n      padding: 0 0 0 10px;\r\n    }\r\n  }\r\n  img {\r\n    background: white;\r\n    margin: 0;\r\n    padding: 15px 10px;\r\n    margin-bottom: -20px;\r\n    border-radius: 0 3px 0 0;\r\n    width: 40px;\r\n    border: 1px solid ${props => props.mainColor};\r\n    border-left: 0;\r\n  }\r\n  button {\r\n    background: ${props => props.mainColor};\r\n    display: block;\r\n    width: 100%;\r\n    border-radius: 0;\r\n    font-size: 2em;\r\n    padding: 0 0 7px;\r\n    line-height: 1em;\r\n    margin: 0;\r\n    height: ${props => props.buttonHeight};\r\n  }\r\n`;\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n  user\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(AddList);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { lighten } from \"polished\";\r\n\r\nimport { colors } from \"../assets/globalStyles\";\r\n\r\nimport { addList } from \"../redux/actionCreators/addList\";\r\nimport { changeListColor } from \"../redux/actionCreators/changeListColor\";\r\nimport selectList from \"../redux/actionCreators/selectList\";\r\n\r\nimport ColorSelector from \"./basics/ColorSelector\";\r\nimport AddList from \"./AddList\";\r\n\r\nclass ListsManager extends React.PureComponent {\r\n  handleSelectList = listId => {\r\n    this.props.handleSelectList(listId);\r\n    setTimeout(\r\n      function() {\r\n        this.props.completeListLayout();\r\n      }.bind(this),\r\n      0\r\n    );\r\n  };\r\n\r\n  sortByCreationDate = () => {\r\n    let { lists } = this.props;\r\n    let listsArray = [];\r\n    Object.keys(lists).map(list => listsArray.push(lists[list]));\r\n\r\n    listsArray.sort(function(a, b) {\r\n      return new Date(a.creation_date) - new Date(b.creation_date);\r\n    });\r\n\r\n    return listsArray;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h3>Lists:</h3>\r\n        <StyledUl>\r\n          {this.sortByCreationDate().map((list, i) => (\r\n            <StyledList key={i}>\r\n              <StyledButton\r\n                className=\"color-wrapper\"\r\n                mainColor={list.color}\r\n                onClick={() => this.handleSelectList(list.id)}\r\n              >\r\n                <div className=\"info-wrapper\">\r\n                  <span>{list.name}</span>\r\n                  <ColorSelector\r\n                    list={list}\r\n                    handleColorChange={this.props.handleColorChange}\r\n                  />\r\n                </div>\r\n              </StyledButton>\r\n            </StyledList>\r\n          ))}\r\n          <AddList\r\n            autoFocus={false}\r\n            clickBehavior={this.props.handleAddList}\r\n            text=\"+\"\r\n          />\r\n        </StyledUl>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledUl = styled(\"ul\")`\r\n  overflow-x: auto;\r\n  max-width: 100%;\r\n  white-space: nowrap;\r\n  height: 100px;\r\n  padding-top: 15px;\r\n  &::-webkit-scrollbar-track {\r\n    background-color: ${lighten(0.5, colors.primary)};\r\n  }\r\n\r\n  &::-webkit-scrollbar {\r\n    height: 6px;\r\n    background-color: ${lighten(0.5, colors.primary)};\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: ${colors.primary};\r\n  }\r\n`;\r\n\r\nconst StyledList = styled(\"li\")`\r\n  margin: 0 2%;\r\n  display: inline-block;\r\n  text-align: center;\r\n  &:first-child {\r\n    margin-left: 0;\r\n  }\r\n  span {\r\n    text-transform: capitalize;\r\n    font-size: 1.2em;\r\n  }\r\n`;\r\n\r\nconst StyledButton = styled(\"button\")`\r\n  background: white;\r\n  border: 0;\r\n  width: 100%;\r\n  cursor: pointer;\r\n  height: 50px;\r\n  margin-bottom: 10px;\r\n  border-bottom: 6px solid ${props => props.mainColor};\r\n  transition: 0.2s all ease;\r\n  &:hover {\r\n    border-bottom-width: 10px;\r\n  }\r\n`;\r\n\r\nconst mapStateToProps = ({ lists }) => ({\r\n  lists\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleAddList(newList, newColor, userId) {\r\n    dispatch(addList(newList, newColor, userId));\r\n  },\r\n  handleColorChange(listId, newColor) {\r\n    dispatch(changeListColor(listId, newColor));\r\n  },\r\n  handleSelectList: listId => {\r\n    dispatch(selectList(listId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ListsManager);\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\nimport { lighten } from \"polished\";\r\n\r\nimport { colors } from \"../assets/globalStyles\";\r\n\r\nimport { addList } from \"../redux/actionCreators/addList\";\r\n\r\nimport { Button } from \"./basics/Button\";\r\nimport AddList from \"./AddList\";\r\n\r\nclass NoToDos extends React.PureComponent {\r\n  state = {\r\n    showAddList: false\r\n  };\r\n\r\n  handleAddList = (newList, newColor, userId) => {\r\n    this.props.handleAddList(newList, newColor, userId);\r\n    this.setState({ showAddList: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <StyledNoToDos>\r\n        {this.state.showAddList ? (\r\n          <AddList\r\n            hideColorSelector\r\n            autoFocus={true}\r\n            clickBehavior={this.handleAddList}\r\n            text=\"+\"\r\n          />\r\n        ) : (\r\n          <React.Fragment>\r\n            <h2>Create your first list</h2>\r\n            <Button\r\n              className=\"footer-item\"\r\n              icon=\"add\"\r\n              clickBehavior={() => this.setState({ showAddList: true })}\r\n              text=\"Create list\"\r\n            />\r\n          </React.Fragment>\r\n        )}\r\n      </StyledNoToDos>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst StyledNoToDos = styled(\"div\")`\r\n  padding: 0 20px;\r\n  border-radius: 3px;\r\n  box-shadow: 1px 1px 4px ${colors.lightGrey};\r\n  background: ${lighten(0.025, colors.light)};\r\n  height: 55vh;\r\n  overflow-x: auto;\r\n  width: 100%;\r\n  text-align: center;\r\n  h2 {\r\n    margin-top: 15vh;\r\n  }\r\n  button {\r\n    padding: 0;\r\n    margin: 1vh auto;\r\n    svg {\r\n      width: 80px;\r\n      height: 80px;\r\n    }\r\n  }\r\n  form {\r\n    margin-top: 18vh;\r\n  }\r\n`;\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleAddList(newList, newColor, userId) {\r\n    dispatch(addList(newList, newColor, userId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(NoToDos);\r\n","import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { fetchToDos } from \"../redux/actionCreators/fetchToDos\";\r\nimport selectList from \"../redux/actionCreators/selectList\";\r\n\r\nimport Loading from \"./basics/Loading\";\r\nimport Notification from \"./Notification\";\r\nimport ToDos from \"./ToDos\";\r\nimport ListsManager from \"./ListsManager\";\r\nimport NoToDos from \"./NoToDos\";\r\nimport { mobileBreakpoint } from \"../assets/globalStyles\";\r\n\r\nclass ToDosPage extends React.PureComponent {\r\n  state = {\r\n    completeListLayoutNum: 0,\r\n    showDetails: false,\r\n    detailsTask: {},\r\n    sortBy: \"most-important\",\r\n    filterChecked: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.handleFetchToDos(this.props.user.uid);\r\n    if (\r\n      this.props.lists != \"loading\" &&\r\n      Object.keys(this.props.lists).length > 0\r\n    ) {\r\n      this.completeListLayout();\r\n      this.getNextListIdToShowAfterDeleteCurrentList();\r\n    }\r\n  }\r\n\r\n  getCurrentList = () => {\r\n    let lists = { ...this.props.lists };\r\n\r\n    let currList = Object.keys(lists).filter(\r\n      list => lists[list].id === this.props.activeList\r\n      );\r\n\r\n    let items = lists[currList].items;\r\n    let itemsArray = [];\r\n    Object.keys(items)\r\n      .filter(item => !items[item].hasOwnProperty(\"ignoreMe\"))\r\n      .map(itemKey => itemsArray.push(items[itemKey]));\r\n\r\n    this.sortBy(itemsArray);\r\n\r\n    lists[currList].items = itemsArray;\r\n\r\n    return lists[currList];\r\n  };\r\n\r\n  sortBy = itemsArray => {\r\n    if (this.state.sortBy === \"most-important\") {\r\n      itemsArray.sort(function(a, b) {\r\n        return b.priority - a.priority;\r\n      });\r\n    } else if (this.state.sortBy === \"alphabetically-a-z\") {\r\n      itemsArray.sort(function(a, b) {\r\n        var nameA = a.task.toLowerCase(),\r\n          nameB = b.task.toLowerCase();\r\n        if (nameA < nameB)\r\n          //sort string ascending\r\n          return -1;\r\n        if (nameA > nameB) return 1;\r\n        return 0; //default return value (no sorting)\r\n      });\r\n    } else if (this.state.sortBy === \"alphabetically-z-a\") {\r\n      itemsArray.sort(function(a, b) {\r\n        var nameA = a.task.toLowerCase(),\r\n          nameB = b.task.toLowerCase();\r\n        if (nameA < nameB)\r\n          //sort string ascending\r\n          return 1;\r\n        if (nameA > nameB) return -1;\r\n        return 0; //default return value (no sorting)\r\n      });\r\n    } else if (this.state.sortBy === \"newest\") {\r\n      itemsArray.sort(function(a, b) {\r\n        return new Date(b.start_date) - new Date(a.start_date);\r\n      });\r\n    } else if (this.state.sortBy === \"oldest\") {\r\n      itemsArray.sort(function(a, b) {\r\n        return new Date(a.start_date) - new Date(b.start_date);\r\n      });\r\n    }\r\n\r\n    return itemsArray;\r\n  };\r\n\r\n  completeListLayout = () => {\r\n    let currList = this.getCurrentList();\r\n    let containerHeight = document.querySelector(\"#to-dos\").clientHeight;\r\n    let itemHeight = 77;\r\n    let maxItems = Math.floor(containerHeight / itemHeight);\r\n    if (currList.items.length < maxItems) {\r\n      let completeListLayoutNum = maxItems - currList.items.length;\r\n      this.setState({ completeListLayoutNum }, () => {});\r\n    } else {\r\n      this.setState({ completeListLayoutNum: 0 }, () => {});\r\n    }\r\n  };\r\n\r\n  getNextListIdToShowAfterDeleteCurrentList = () => {\r\n    let lists = { ...this.props.lists };\r\n    let currList = Object.keys(lists).filter(\r\n      list => lists[list].id === this.props.activeList\r\n    )[0];\r\n    let listsLength = Object.keys(this.props.lists).length - 1;\r\n    let nextListIndex = Object.keys(lists).indexOf(currList) + 1;\r\n    let nextList =\r\n      nextListIndex > listsLength\r\n        ? lists[Object.keys(lists)[0]].id\r\n        : lists[Object.keys(lists)[nextListIndex]].id;\r\n\r\n    return nextList;\r\n  };\r\n\r\n  showDetailsFunc = (showDetails, detailsTaskId) => {\r\n    setTimeout(() => {\r\n      let items = this.getCurrentList().items;\r\n      let itemsArray = [];\r\n      Object.keys(items).map(itemKey => itemsArray.push(items[itemKey]));\r\n      let detailsTask = itemsArray.filter(item => item.id === detailsTaskId)[0];\r\n      this.setState({ showDetails, detailsTask }, () => {});\r\n    }, 0);\r\n  };\r\n\r\n  handleSortByChange = sortBy => {\r\n    this.setState({ sortBy }, () => {});\r\n  };\r\n\r\n  filterCheckedFunc = () => {\r\n    this.setState({ filterChecked: !this.state.filterChecked }),\r\n      () => {\r\n        this.getCurrentList();\r\n      };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Notification lists={this.props.lists} />\r\n        <StyledContainer\r\n          className={this.state.showDetails ? \"expanded\" : \"compressed\"}\r\n        >\r\n          {this.props.lists === \"loading\" ? (\r\n            <Loading />\r\n          ) : Object.keys(this.props.lists).length > 0 ? (\r\n            <React.Fragment>\r\n              <ToDos\r\n                currentList={this.getCurrentList()}\r\n                nextListId={this.getNextListIdToShowAfterDeleteCurrentList()}\r\n                filterCheckedFunc={this.filterCheckedFunc}\r\n                filterChecked={this.state.filterChecked}\r\n                completeListLayoutNum={this.state.completeListLayoutNum}\r\n                completeListLayout={this.completeListLayout}\r\n                showDetails={this.state.showDetails}\r\n                showDetailsFunc={this.showDetailsFunc}\r\n                detailsTask={this.state.detailsTask}\r\n                sortBy={this.state.sortBy}\r\n                handleSortByChange={this.handleSortByChange}\r\n              />\r\n              <ListsManager completeListLayout={this.completeListLayout} />\r\n            </React.Fragment>\r\n          ) : (\r\n            <NoToDos />\r\n          )}\r\n        </StyledContainer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n// styled components\r\nconst expandsToDoOuter = keyframes`\r\n  0% {\r\n    width: 60%;\r\n  }\r\n  100% {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst compressToDoOuter = keyframes`\r\n  0% {\r\n    width: 80%;\r\n  }\r\n  100% {\r\n    width: 60%;\r\n  }\r\n`;\r\n\r\nconst expandsToDoOuterMobile = keyframes`\r\n  0% {\r\n    width: 80%;\r\n  }\r\n  100% {\r\n    width: 90%;\r\n  }\r\n`;\r\n\r\nconst compressToDoOuterMobile = keyframes`\r\n  0% {\r\n    width: 90%;\r\n  }\r\n  100% {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst StyledContainer = styled(\"div\")`\r\n  width: 60%;\r\n  margin: 30px auto;\r\n  position: relative;\r\n  transition: all 0.25s ease;\r\n  &.expanded {\r\n    animation: ${expandsToDoOuter} 0.25s ease forwards;\r\n  }\r\n  &.compressed {\r\n    animation: ${compressToDoOuter} 0.25s ease forwards;\r\n  }\r\n  @media (${mobileBreakpoint}){\r\n    width: 90%;\r\n    &.expanded {\r\n      animation: none;\r\n    }\r\n    &.compressed {\r\n      animation: none;\r\n    }\r\n  }\r\n  h2 {\r\n    text-transform: capitalize;\r\n    font-size: 2em;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nconst mapStateToProps = ({ lists, activeList, user }) => ({\r\n  lists,\r\n  activeList,\r\n  user\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleSelectList(listId) {\r\n    dispatch(selectList(listId));\r\n  },\r\n  handleFetchToDos(userId) {\r\n    dispatch(fetchToDos(userId));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ToDosPage);\r\n"]}